import{d as pe,q as X,v as we,u as e,c as i,e as ke,s as Se,o as l,f as $,g as A,i as H,a as s,h as Ve,w as r,b as o,t as n,k as a,j as _,F as C,r as U,l as G,x as le}from"./app-CtM1zO0n.js";import{U as ne,S as Ce,_ as Ge}from"./AppLayout.vue_vue_type_script_setup_true_lang-B0f1iFiF.js";import{d as De}from"./index-C4J_hXM0.js";import{c as $e,_ as g}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BtPf8Cyp.js";import{_ as N,a as P,b as T,c as F,d as Y}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CVrdkJC5.js";import{_ as L,a as E}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DK12Q8mV.js";import{_ as z,a as j,b as R,c as W,d as q}from"./SelectValue.vue_vue_type_script_setup_true_lang-CWfa-Ceu.js";import{C as D,_ as I,a as J,b as O}from"./index-CQVK6ONh.js";import{_ as ie}from"./Input.vue_vue_type_script_setup_true_lang-ETuYiOol.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-UdsN2LqA.js";import{u as Ae}from"./index-DW7wLS9Q.js";import{T as ue,G as me}from"./trending-up-DQWm_xxH.js";import{c as Ue}from"./createLucideIcon-DK_pniWi.js";import"./VisuallyHidden-X_ia0dKA.js";import"./useForwardExpose-CIx1JCCA.js";import"./useForwardPropsEmits-lengeZ29.js";import"./check-B2Ip-__q.js";import"./useFormControl-D0G4V3sp.js";const Ne=Ue("TrendingDownIcon",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Q=pe({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(B,{emit:c}){const p=B,w=Ae(p,"modelValue",c,{passive:!0,defaultValue:p.defaultValue});return(k,y)=>X((l(),i("textarea",{"onUpdate:modelValue":y[0]||(y[0]=S=>Se(w)?w.value=S:null),"data-slot":"textarea",class:ke(e($e)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",p.class))},null,2)),[[we,e(w)]])}}),Pe={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},Te={class:"grid auto-rows-min gap-4 md:grid-cols-4"},Fe={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},Ye={class:"flex items-center gap-2"},Le={class:"text-2xl font-bold"},Ee={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},Ie={class:"flex items-center gap-2"},Oe={class:"text-2xl font-bold"},Be={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},Ke={class:"flex items-center gap-2"},Me={class:"text-2xl font-bold"},he={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},ze={class:"flex items-center gap-2"},je={class:"text-2xl font-bold"},Re={class:"flex flex-wrap gap-3"},We={class:"relative min-h-[50vh] flex-1 rounded-xl border border-sidebar-border/70 bg-white md:min-h-min dark:border-sidebar-border dark:bg-sidebar"},qe={class:"p-6"},He={class:"overflow-x-auto"},Je={class:"min-w-full divide-y divide-gray-200"},Qe={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-sidebar"},Xe={class:"whitespace-nowrap px-6 py-4 text-sm font-medium"},Ze={class:"whitespace-nowrap px-6 py-4 text-sm"},et={class:"whitespace-nowrap px-6 py-4 text-sm"},tt={key:0,class:"rounded-full bg-purple-100 px-2 py-1 text-xs font-medium text-purple-800 dark:bg-purple-900 dark:text-purple-200"},st={key:1,class:"rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-800 dark:bg-green-900 dark:text-green-200"},rt={class:"whitespace-nowrap px-6 py-4 text-right"},dt={class:"flex items-center justify-end gap-2"},ot={key:0,class:"py-12 text-center"},at={class:"grid gap-4 py-4"},lt={class:"grid gap-2"},nt={key:0,class:"text-sm text-red-600"},it={class:"grid gap-2"},ut={key:0,class:"text-xs text-muted-foreground"},mt={key:1,class:"text-xs text-orange-600"},pt={key:2,class:"text-sm text-red-600"},ft={class:"grid gap-2"},_t={key:0,class:"text-sm text-red-600"},gt={class:"grid gap-4 py-4"},vt={class:"grid gap-2"},xt={key:0,class:"text-sm text-red-600"},bt={class:"grid gap-2"},ct={key:0,class:"text-xs text-muted-foreground"},yt={key:1,class:"text-xs text-orange-600"},wt={key:2,class:"text-sm text-red-600"},kt={class:"grid gap-2"},St={key:0,class:"text-sm text-red-600"},Vt={class:"grid gap-4 py-4"},Ct={class:"grid gap-2"},Gt={class:"grid gap-4 py-4"},Dt={class:"grid gap-2"},$t={key:0,class:"text-sm text-red-600"},At={class:"flex items-center space-x-2"},Ut={key:0},Nt={key:1,class:"font-medium"},Pt={class:"grid gap-4 py-4"},Tt={class:"grid gap-2"},Ft={key:0,class:"text-sm text-red-600"},Yt={class:"flex items-center space-x-2"},es=pe({__name:"Index",props:{grades:{},currentYear:{},stats:{},maxGradeLevel:{},autoGraduateEnabled:{type:Boolean}},setup(B){const c=B,p=(c.grades||[]).filter(x=>x&&x.id),K=c.currentYear||"2025",w=c.stats||{},k=$(!1),y=$(!1),S=$(!1),M=$(!1),h=$(!1),fe=[{title:"Dashboard",href:De().url},{title:"Student Progression",href:"#"}],u=A({from_grade_id:"",to_grade_id:"",notes:""}),m=A({from_grade_id:"",to_grade_id:"",notes:""}),V=A({notes:""}),f=A({new_year:"",promote_students:!0}),v=A({max_grade_level:c.maxGradeLevel||12,auto_graduate_enabled:c.autoGraduateEnabled||!0}),Z=()=>{u.reset()},ee=()=>{m.reset()},te=()=>{V.reset()},se=()=>{f.reset(),f.new_year="",f.promote_students=!0},_e=()=>{v.max_grade_level=c.maxGradeLevel||12,v.auto_graduate_enabled=c.autoGraduateEnabled||!0},ge=()=>{u.post("/student-progression/promote-grade",{onSuccess:()=>{k.value=!1,Z()}})},ve=()=>{confirm("Are you sure you want to demote all students in this grade?")&&m.post("/student-progression/demote-grade",{onSuccess:()=>{y.value=!1,ee()}})},xe=()=>{confirm("This will promote ALL active students to the next grade. Are you sure?")&&V.post("/student-progression/promote-all",{onSuccess:()=>{S.value=!1,te()}})},be=()=>{confirm(`Start academic year ${f.new_year}? This will update all students.`)&&f.post("/student-progression/start-new-year",{onSuccess:()=>{M.value=!1,se()}})},ce=()=>{v.put("/student-progression/settings",{onSuccess:()=>{h.value=!1}})},re=H(()=>{if(!u.from_grade_id)return p;const x=p.find(t=>String(t.id)===u.from_grade_id);return x?p.filter(t=>t.level>x.level):p}),de=H(()=>{if(!m.from_grade_id)return p;const x=p.find(t=>String(t.id)===m.from_grade_id);return x?p.filter(t=>t.level<x.level):p}),oe=()=>(parseInt(K)+1).toString(),ae=H(()=>p.reduce((x,t)=>x+(t.students_count||0),0));return(x,t)=>(l(),i(C,null,[s(e(Ve),{title:"Student Progression"}),s(Ge,{breadcrumbs:fe},{default:r(()=>[o("div",Pe,[o("div",Te,[o("div",Fe,[o("div",Ye,[s(e(ne),{class:"h-5 w-5 text-blue-600"}),t[31]||(t[31]=o("div",{class:"text-sm font-medium text-muted-foreground"},"Active Students",-1))]),o("div",Le,n(ae.value),1)]),o("div",Ee,[o("div",Ie,[s(e(ue),{class:"h-5 w-5 text-green-600"}),t[32]||(t[32]=o("div",{class:"text-sm font-medium text-muted-foreground"},"Total Promotions",-1))]),o("div",Oe,n(e(w).total_promotions||0),1)]),o("div",Be,[o("div",Ke,[s(e(me),{class:"h-5 w-5 text-purple-600"}),t[33]||(t[33]=o("div",{class:"text-sm font-medium text-muted-foreground"},"Graduated",-1))]),o("div",Me,n(e(w).total_graduated||0),1)]),o("div",he,[o("div",ze,[s(e(D),{class:"h-5 w-5 text-orange-600"}),t[34]||(t[34]=o("div",{class:"text-sm font-medium text-muted-foreground"},"Repetitions",-1))]),o("div",je,n(e(w).total_repetitions||0),1)])]),s(e(I),{class:"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950"},{default:r(()=>[s(e(D),{class:"h-4 w-4"}),s(e(J),null,{default:r(()=>[a("Current Academic Year: "+n(e(K)),1)]),_:1}),s(e(O),null,{default:r(()=>[...t[35]||(t[35]=[a(" Manage student progressions and start new academic years from this page. ",-1)])]),_:1})]),_:1}),o("div",Re,[s(e(g),{onClick:t[0]||(t[0]=d=>k.value=!0),class:"gap-2"},{default:r(()=>[s(e(ue),{class:"h-4 w-4"}),t[36]||(t[36]=a(" Promote by Grade ",-1))]),_:1}),s(e(g),{onClick:t[1]||(t[1]=d=>y.value=!0),variant:"destructive",class:"gap-2"},{default:r(()=>[s(e(Ne),{class:"h-4 w-4"}),t[37]||(t[37]=a(" Demote by Grade ",-1))]),_:1}),s(e(g),{onClick:t[2]||(t[2]=d=>S.value=!0),variant:"default",class:"gap-2"},{default:r(()=>[s(e(ne),{class:"h-4 w-4"}),t[38]||(t[38]=a(" Promote All Students ",-1))]),_:1}),s(e(g),{onClick:t[3]||(t[3]=d=>M.value=!0),variant:"outline",class:"gap-2"},{default:r(()=>[s(e(me),{class:"h-4 w-4"}),t[39]||(t[39]=a(" Start New Academic Year ",-1))]),_:1}),s(e(g),{onClick:t[4]||(t[4]=d=>h.value=!0),variant:"outline",class:"gap-2"},{default:r(()=>[s(e(Ce),{class:"h-4 w-4"}),t[40]||(t[40]=a(" Settings ",-1))]),_:1})]),o("div",We,[o("div",qe,[t[45]||(t[45]=o("h2",{class:"mb-4 text-xl font-semibold"},"Grades Overview",-1)),o("div",He,[o("table",Je,[t[43]||(t[43]=o("thead",{class:"bg-gray-50 dark:bg-sidebar-accent"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Grade"),o("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Active Students"),o("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Status"),o("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Actions")])],-1)),o("tbody",Qe,[(l(!0),i(C,null,U(e(p),d=>(l(),i("tr",{key:d.id,class:"hover:bg-gray-50 dark:hover:bg-sidebar-accent"},[o("td",Xe,n(d.name),1),o("td",Ze,n(d.students_count||0)+" students ",1),o("td",et,[d.level>=B.maxGradeLevel?(l(),i("span",tt," Final Grade ")):(l(),i("span",st," Active "))]),o("td",rt,[o("div",dt,[d.students_count>0?(l(),G(e(g),{key:0,variant:"default",size:"sm",onClick:ye=>{e(u).from_grade_id=String(d.id),k.value=!0}},{default:r(()=>[...t[41]||(t[41]=[a(" Promote ",-1)])]),_:1},8,["onClick"])):_("",!0),d.students_count>0&&d.level>0?(l(),G(e(g),{key:1,variant:"destructive",size:"sm",onClick:ye=>{e(m).from_grade_id=String(d.id),y.value=!0}},{default:r(()=>[...t[42]||(t[42]=[a(" Demote ",-1)])]),_:1},8,["onClick"])):_("",!0)])])]))),128))])]),e(p).length===0?(l(),i("div",ot,[...t[44]||(t[44]=[o("p",{class:"text-muted-foreground"},"No grades found.",-1)])])):_("",!0)])])])]),s(e(N),{open:k.value,"onUpdate:open":t[10]||(t[10]=d=>k.value=d)},{default:r(()=>[s(e(P),{class:"sm:max-w-2xl",onInteractOutside:t[8]||(t[8]=d=>d.preventDefault()),onEscapeKeyDown:t[9]||(t[9]=d=>d.preventDefault())},{default:r(()=>[s(e(T),null,{default:r(()=>[s(e(F),null,{default:r(()=>[...t[46]||(t[46]=[a("Promote Students by Grade",-1)])]),_:1}),s(e(Y),null,{default:r(()=>[...t[47]||(t[47]=[a(" Select a grade to promote all students to the next grade level. ",-1)])]),_:1})]),_:1}),o("div",at,[o("div",lt,[s(e(b),{for:"from_grade_id"},{default:r(()=>[...t[48]||(t[48]=[a("From Grade",-1)])]),_:1}),s(e(z),{modelValue:e(u).from_grade_id,"onUpdate:modelValue":t[5]||(t[5]=d=>e(u).from_grade_id=d)},{default:r(()=>[s(e(j),null,{default:r(()=>[s(e(R),{placeholder:"Select grade to promote from"})]),_:1}),s(e(W),null,{default:r(()=>[(l(!0),i(C,null,U(e(p),d=>(l(),G(e(q),{key:d.id,value:String(d.id)},{default:r(()=>[a(n(d.name)+" ("+n(d.students_count||0)+" students) ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(u).errors.from_grade_id?(l(),i("span",nt,n(e(u).errors.from_grade_id),1)):_("",!0)]),o("div",it,[s(e(b),{for:"to_grade_id"},{default:r(()=>[...t[49]||(t[49]=[a("To Grade",-1)])]),_:1}),s(e(z),{modelValue:e(u).to_grade_id,"onUpdate:modelValue":t[6]||(t[6]=d=>e(u).to_grade_id=d),disabled:!e(u).from_grade_id},{default:r(()=>[s(e(j),null,{default:r(()=>[s(e(R),{placeholder:"Select target grade"})]),_:1}),s(e(W),null,{default:r(()=>[(l(!0),i(C,null,U(re.value,d=>(l(),G(e(q),{key:d.id,value:String(d.id)},{default:r(()=>[a(n(d.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e(u).from_grade_id?_("",!0):(l(),i("span",ut," Select a grade first ")),re.value.length===0&&e(u).from_grade_id?(l(),i("span",mt," No higher grades available. Students may need to graduate. ")):_("",!0),e(u).errors.to_grade_id?(l(),i("span",pt,n(e(u).errors.to_grade_id),1)):_("",!0)]),o("div",ft,[s(e(b),{for:"notes"},{default:r(()=>[...t[50]||(t[50]=[a("Notes (Optional)",-1)])]),_:1}),s(e(Q),{id:"notes",modelValue:e(u).notes,"onUpdate:modelValue":t[7]||(t[7]=d=>e(u).notes=d),placeholder:"Add any notes about this promotion...",rows:"3"},null,8,["modelValue"]),e(u).errors.notes?(l(),i("span",_t,n(e(u).errors.notes),1)):_("",!0)]),s(e(I),{class:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950"},{default:r(()=>[s(e(D),{class:"h-4 w-4"}),s(e(O),null,{default:r(()=>[...t[51]||(t[51]=[a(" This will promote all active students in the selected grade. ",-1)])]),_:1})]),_:1})]),s(e(L),{class:"pt-4"},{default:r(()=>[s(e(E),{"as-child":""},{default:r(()=>[s(e(g),{variant:"outline",onClick:Z},{default:r(()=>[...t[52]||(t[52]=[a(" Cancel ",-1)])]),_:1})]),_:1}),s(e(g),{onClick:ge,disabled:e(u).processing},{default:r(()=>[a(n(e(u).processing?"Promoting...":"Promote Grade"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(e(N),{open:y.value,"onUpdate:open":t[16]||(t[16]=d=>y.value=d)},{default:r(()=>[s(e(P),{class:"sm:max-w-2xl",onInteractOutside:t[14]||(t[14]=d=>d.preventDefault()),onEscapeKeyDown:t[15]||(t[15]=d=>d.preventDefault())},{default:r(()=>[s(e(T),null,{default:r(()=>[s(e(F),null,{default:r(()=>[...t[53]||(t[53]=[a("Demote Students by Grade",-1)])]),_:1}),s(e(Y),null,{default:r(()=>[...t[54]||(t[54]=[a(" Select a grade to demote all students to a lower grade level. ",-1)])]),_:1})]),_:1}),o("div",gt,[o("div",vt,[s(e(b),{for:"demote_from_grade_id"},{default:r(()=>[...t[55]||(t[55]=[a("From Grade",-1)])]),_:1}),s(e(z),{modelValue:e(m).from_grade_id,"onUpdate:modelValue":t[11]||(t[11]=d=>e(m).from_grade_id=d)},{default:r(()=>[s(e(j),null,{default:r(()=>[s(e(R),{placeholder:"Select grade to demote from"})]),_:1}),s(e(W),null,{default:r(()=>[(l(!0),i(C,null,U(e(p),d=>(l(),G(e(q),{key:d.id,value:String(d.id)},{default:r(()=>[a(n(d.name)+" ("+n(d.students_count||0)+" students) ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(m).errors.from_grade_id?(l(),i("span",xt,n(e(m).errors.from_grade_id),1)):_("",!0)]),o("div",bt,[s(e(b),{for:"demote_to_grade_id"},{default:r(()=>[...t[56]||(t[56]=[a("To Grade",-1)])]),_:1}),s(e(z),{modelValue:e(m).to_grade_id,"onUpdate:modelValue":t[12]||(t[12]=d=>e(m).to_grade_id=d),disabled:!e(m).from_grade_id},{default:r(()=>[s(e(j),null,{default:r(()=>[s(e(R),{placeholder:"Select target grade"})]),_:1}),s(e(W),null,{default:r(()=>[(l(!0),i(C,null,U(de.value,d=>(l(),G(e(q),{key:d.id,value:String(d.id)},{default:r(()=>[a(n(d.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e(m).from_grade_id?_("",!0):(l(),i("span",ct," Select a grade first ")),de.value.length===0&&e(m).from_grade_id?(l(),i("span",yt," No lower grades available for demotion. ")):_("",!0),e(m).errors.to_grade_id?(l(),i("span",wt,n(e(m).errors.to_grade_id),1)):_("",!0)]),o("div",kt,[s(e(b),{for:"demote_notes"},{default:r(()=>[...t[57]||(t[57]=[a("Notes (Optional)",-1)])]),_:1}),s(e(Q),{id:"demote_notes",modelValue:e(m).notes,"onUpdate:modelValue":t[13]||(t[13]=d=>e(m).notes=d),placeholder:"Add reason for demotion...",rows:"3"},null,8,["modelValue"]),e(m).errors.notes?(l(),i("span",St,n(e(m).errors.notes),1)):_("",!0)]),s(e(I),{class:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950"},{default:r(()=>[s(e(D),{class:"h-4 w-4 text-red-600"}),s(e(J),{class:"text-red-800 dark:text-red-200"},{default:r(()=>[...t[58]||(t[58]=[a("Warning",-1)])]),_:1}),s(e(O),{class:"text-red-700 dark:text-red-300"},{default:r(()=>[...t[59]||(t[59]=[a(" This will demote all active students in the selected grade to a lower level. ",-1)])]),_:1})]),_:1})]),s(e(L),{class:"pt-4"},{default:r(()=>[s(e(E),{"as-child":""},{default:r(()=>[s(e(g),{variant:"outline",onClick:ee},{default:r(()=>[...t[60]||(t[60]=[a(" Cancel ",-1)])]),_:1})]),_:1}),s(e(g),{onClick:ve,disabled:e(m).processing,variant:"destructive"},{default:r(()=>[a(n(e(m).processing?"Demoting...":"Demote Grade"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(e(N),{open:S.value,"onUpdate:open":t[20]||(t[20]=d=>S.value=d)},{default:r(()=>[s(e(P),{class:"sm:max-w-2xl",onInteractOutside:t[18]||(t[18]=d=>d.preventDefault()),onEscapeKeyDown:t[19]||(t[19]=d=>d.preventDefault())},{default:r(()=>[s(e(T),null,{default:r(()=>[s(e(F),null,{default:r(()=>[...t[61]||(t[61]=[a("Promote All Students",-1)])]),_:1}),s(e(Y),null,{default:r(()=>[...t[62]||(t[62]=[a(" This will promote ALL active students to their next grade level. ",-1)])]),_:1})]),_:1}),o("div",Vt,[o("div",Ct,[s(e(b),{for:"promote_all_notes"},{default:r(()=>[...t[63]||(t[63]=[a("Notes (Optional)",-1)])]),_:1}),s(e(Q),{id:"promote_all_notes",modelValue:e(V).notes,"onUpdate:modelValue":t[17]||(t[17]=d=>e(V).notes=d),placeholder:"Add any notes about this bulk promotion...",rows:"3"},null,8,["modelValue"])]),s(e(I),{class:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950"},{default:r(()=>[s(e(D),{class:"h-4 w-4 text-red-600"}),s(e(J),{class:"text-red-800 dark:text-red-200"},{default:r(()=>[...t[64]||(t[64]=[a("Warning",-1)])]),_:1}),s(e(O),{class:"text-red-700 dark:text-red-300"},{default:r(()=>[a(" This action will promote "+n(ae.value)+" students across all grades. Students at the maximum grade level will be graduated. This action cannot be easily undone. ",1)]),_:1})]),_:1})]),s(e(L),{class:"pt-4"},{default:r(()=>[s(e(E),{"as-child":""},{default:r(()=>[s(e(g),{variant:"outline",onClick:te},{default:r(()=>[...t[65]||(t[65]=[a(" Cancel ",-1)])]),_:1})]),_:1}),s(e(g),{onClick:xe,disabled:e(V).processing,variant:"destructive"},{default:r(()=>[a(n(e(V).processing?"Promoting...":"Confirm Promotion"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(e(N),{open:M.value,"onUpdate:open":t[25]||(t[25]=d=>M.value=d)},{default:r(()=>[s(e(P),{class:"sm:max-w-2xl",onInteractOutside:t[23]||(t[23]=d=>d.preventDefault()),onEscapeKeyDown:t[24]||(t[24]=d=>d.preventDefault())},{default:r(()=>[s(e(T),null,{default:r(()=>[s(e(F),null,{default:r(()=>[...t[66]||(t[66]=[a("Start New Academic Year",-1)])]),_:1}),s(e(Y),null,{default:r(()=>[...t[67]||(t[67]=[a(" Begin a new academic year and optionally promote all students. ",-1)])]),_:1})]),_:1}),o("div",Gt,[o("div",Dt,[s(e(b),{for:"new_year"},{default:r(()=>[...t[68]||(t[68]=[a("New Academic Year",-1)])]),_:1}),s(e(ie),{id:"new_year",modelValue:e(f).new_year,"onUpdate:modelValue":t[21]||(t[21]=d=>e(f).new_year=d),type:"text",placeholder:oe()},null,8,["modelValue","placeholder"]),e(f).errors.new_year?(l(),i("span",$t,n(e(f).errors.new_year),1)):_("",!0)]),o("div",At,[X(o("input",{id:"promote_students","onUpdate:modelValue":t[22]||(t[22]=d=>e(f).promote_students=d),type:"checkbox",class:"h-4 w-4 rounded border-gray-300"},null,512),[[le,e(f).promote_students]]),s(e(b),{for:"promote_students",class:"cursor-pointer"},{default:r(()=>[...t[69]||(t[69]=[a(" Automatically promote all students to next grade ",-1)])]),_:1})]),s(e(I),{class:"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950"},{default:r(()=>[s(e(D),{class:"h-4 w-4"}),s(e(O),null,{default:r(()=>[a(" Current year: "+n(e(K))+" â†’ New year: "+n(e(f).new_year||oe())+" ",1),e(f).promote_students?(l(),i("br",Ut)):_("",!0),e(f).promote_students?(l(),i("span",Nt," All students will be promoted to the next grade level. ")):_("",!0)]),_:1})]),_:1})]),s(e(L),{class:"pt-4"},{default:r(()=>[s(e(E),{"as-child":""},{default:r(()=>[s(e(g),{variant:"outline",onClick:se},{default:r(()=>[...t[70]||(t[70]=[a(" Cancel ",-1)])]),_:1})]),_:1}),s(e(g),{onClick:be,disabled:e(f).processing||!e(f).new_year},{default:r(()=>[a(n(e(f).processing?"Starting...":"Start New Year"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(e(N),{open:h.value,"onUpdate:open":t[30]||(t[30]=d=>h.value=d)},{default:r(()=>[s(e(P),{class:"sm:max-w-2xl",onInteractOutside:t[28]||(t[28]=d=>d.preventDefault()),onEscapeKeyDown:t[29]||(t[29]=d=>d.preventDefault())},{default:r(()=>[s(e(T),null,{default:r(()=>[s(e(F),null,{default:r(()=>[...t[71]||(t[71]=[a("Progression Settings",-1)])]),_:1}),s(e(Y),null,{default:r(()=>[...t[72]||(t[72]=[a(" Configure student progression and graduation settings. ",-1)])]),_:1})]),_:1}),o("div",Pt,[o("div",Tt,[s(e(b),{for:"max_grade_level"},{default:r(()=>[...t[73]||(t[73]=[a("Maximum Grade Level",-1)])]),_:1}),s(e(ie),{id:"max_grade_level",modelValue:e(v).max_grade_level,"onUpdate:modelValue":t[26]||(t[26]=d=>e(v).max_grade_level=d),type:"number",min:"1",max:"20"},null,8,["modelValue"]),t[74]||(t[74]=o("span",{class:"text-xs text-muted-foreground"}," Students at this grade level will be graduated when promoted ",-1)),e(v).errors.max_grade_level?(l(),i("span",Ft,n(e(v).errors.max_grade_level),1)):_("",!0)]),o("div",Yt,[X(o("input",{id:"auto_graduate_enabled","onUpdate:modelValue":t[27]||(t[27]=d=>e(v).auto_graduate_enabled=d),type:"checkbox",class:"h-4 w-4 rounded border-gray-300"},null,512),[[le,e(v).auto_graduate_enabled]]),s(e(b),{for:"auto_graduate_enabled",class:"cursor-pointer"},{default:r(()=>[...t[75]||(t[75]=[a(" Automatically graduate students at maximum grade level ",-1)])]),_:1})])]),s(e(L),{class:"pt-4"},{default:r(()=>[s(e(E),{"as-child":""},{default:r(()=>[s(e(g),{variant:"outline",onClick:_e},{default:r(()=>[...t[76]||(t[76]=[a(" Cancel ",-1)])]),_:1})]),_:1}),s(e(g),{onClick:ce,disabled:e(v).processing},{default:r(()=>[a(n(e(v).processing?"Saving...":"Save Settings"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{es as default};
