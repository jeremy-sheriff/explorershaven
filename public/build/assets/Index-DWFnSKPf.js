import{a as $t,b as St,c as Dt,d as Tt,e as Vt,g as Ct,h as Pt,s as Ot,X as At,_ as Bt}from"./AppLayout.vue_vue_type_script_setup_true_lang-k2cMkoPz.js";import{d as Nt}from"./index-Bhpqllgs.js";import{d as q,c as w,b as r,y as ee,e as le,u as e,o as u,l as h,f as O,i as ue,z as Ye,w as a,A as Ft,n as Rt,B as Et,C as Ut,D as It,p as ke,E as dt,G as it,H as zt,I as Lt,J as Ht,K as Mt,L as Te,a as l,g as Me,m as Oe,h as jt,t as v,j as R,k as s,F as ie,r as he,M as j,N as nt}from"./app-s4nxCxMb.js";import{c as se,_ as ae}from"./index-CmT1VZCb.js";import{r as Ke,a as Gt}from"./index-B6TrfYQ8.js";import{_ as ce,a as ge,b as _e,c as be,d as K}from"./SelectValue.vue_vue_type_script_setup_true_lang-CnrNAp0c.js";import{d as Wt,c as qt,b as Yt,a as Kt,_ as Jt}from"./DialogTitle.vue_vue_type_script_setup_true_lang-LqlUqrBK.js";import{a as Xt,_ as Zt}from"./DialogFooter.vue_vue_type_script_setup_true_lang-D4SaMohD.js";import{D as Qt,_ as ea}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-DXN-2_Nk.js";import{u as ut}from"./useForwardPropsEmits-DGMI3l2F.js";import{c as ta}from"./VisuallyHidden-DlFGVnrL.js";import{_ as re}from"./Input.vue_vue_type_script_setup_true_lang-C2vJ7EfG.js";import{_ as U}from"./Label.vue_vue_type_script_setup_true_lang-D1psfBws.js";import{c as Je}from"./createLucideIcon-CgisJ9Nh.js";import{F as aa}from"./filter-D4NgCWcC.js";import{E as la}from"./eye-DRQNnnWA.js";import"./useForwardExpose-BTqV0pnh.js";import"./index-CMWG4mbA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DmdghSEU.js";import"./check-DC2WvDx6.js";import"./useFormControl-BQpw5Ukr.js";const na=Je("DeleteIcon",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);const ra=Je("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const sa=Je("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),oa={"data-slot":"table-container",class:"relative w-full overflow-auto"},je=q({__name:"Table",props:{class:{}},setup(d){const o=d;return(i,c)=>(u(),w("div",oa,[r("table",{"data-slot":"table",class:le(e(se)("w-full caption-bottom text-sm",o.class))},[ee(i.$slots,"default")],2)]))}}),Ge=q({__name:"TableBody",props:{class:{}},setup(d){const o=d;return(i,c)=>(u(),w("tbody",{"data-slot":"table-body",class:le(e(se)("[&_tr:last-child]:border-0",o.class))},[ee(i.$slots,"default")],2))}}),da=q({__name:"TableCaption",props:{class:{}},setup(d){const o=d;return(i,c)=>(u(),w("caption",{"data-slot":"table-caption",class:le(e(se)("text-muted-foreground mt-4 text-sm",o.class))},[ee(i.$slots,"default")],2))}}),G=q({__name:"TableCell",props:{class:{}},setup(d){const o=d;return(i,c)=>(u(),w("td",{"data-slot":"table-cell",class:le(e(se)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",o.class))},[ee(i.$slots,"default")],2))}}),ye=q({__name:"TableRow",props:{class:{}},setup(d){const o=d;return(i,c)=>(u(),w("tr",{"data-slot":"table-row",class:le(e(se)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",o.class))},[ee(i.$slots,"default")],2))}}),Q=q({__name:"TableHead",props:{class:{}},setup(d){const o=d;return(i,c)=>(u(),w("th",{"data-slot":"table-head",class:le(e(se)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",o.class))},[ee(i.$slots,"default")],2))}}),We=q({__name:"TableHeader",props:{class:{}},setup(d){const o=d;return(i,c)=>(u(),w("thead",{"data-slot":"table-header",class:le(e(se)("[&_tr]:border-b",o.class))},[ee(i.$slots,"default")],2))}});(function(){var d;try{if(typeof document<"u"){var o=document.createElement("style");o.nonce=(d=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:d.content,o.appendChild(document.createTextNode('[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32,.72,0,1);animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform, 100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform, 100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height, 0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height, 0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true]):after{content:"";position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]:after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]:after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]:after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]:after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:hover,[data-vaul-handle]:active{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover: hover) and (pointer: fine){[data-vaul-drawer]{-webkit-user-select:none;user-select:none}}@media (pointer: fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{0%{transform:translate3d(0,var(--initial-transform, 100%),0)}to{transform:translateZ(0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform, 100%),0)}}@keyframes slideFromTop{0%{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}to{transform:translateZ(0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}}@keyframes slideFromLeft{0%{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}to{transform:translateZ(0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}}@keyframes slideFromRight{0%{transform:translate3d(var(--initial-transform, 100%),0,0)}to{transform:translateZ(0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform, 100%),0,0)}}')),document.head.appendChild(o)}}catch(i){console.error("vite-plugin-css-injected-by-js",i)}})();const ia=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ua=d=>typeof d<"u";function ma(d){return JSON.parse(JSON.stringify(d))}function rt(d,o,i,c={}){var p,T,k;const{clone:C=!1,passive:$=!1,eventName:I,deep:z=!1,defaultValue:g,shouldEmit:y}=c,A=It(),D=i||A?.emit||((p=A?.$emit)==null?void 0:p.bind(A))||((k=(T=A?.proxy)==null?void 0:T.$emit)==null?void 0:k.bind(A?.proxy));let x=I;o||(o="modelValue"),x=x||`update:${o.toString()}`;const oe=m=>C?typeof C=="function"?C(m):ma(m):m,_=()=>ua(d[o])?oe(d[o]):g,V=m=>{y?y(m)&&D(x,m):D(x,m)};if($){const m=_(),f=O(m);let S=!1;return ke(()=>d[o],N=>{S||(S=!0,f.value=oe(N),dt(()=>S=!1))}),ke(f,N=>{!S&&(N!==d[o]||z)&&V(N)},{deep:z}),f}else return ue({get(){return _()},set(m){V(m)}})}const[Xe,fa]=ta("DrawerRoot"),mt=new WeakMap;function J(d,o,i=!1){if(!d||!(d instanceof HTMLElement)||!o)return;const c={};Object.entries(o).forEach(([p,T])=>{if(p.startsWith("--")){d.style.setProperty(p,T);return}c[p]=d.style[p],d.style[p]=T}),!i&&mt.set(d,c)}function pa(d,o){if(!d||!(d instanceof HTMLElement))return;const i=mt.get(d);i&&Object.entries(i).forEach(([c,p])=>{d.style[c]=p})}function ze(d,o){const i=window.getComputedStyle(d),c=i.transform||i.webkitTransform||i.mozTransform;let p=c.match(/^matrix3d\((.+)\)$/);return p?Number.parseFloat(p[1].split(", ")[W(o)?13:12]):(p=c.match(/^matrix\((.+)\)$/),p?Number.parseFloat(p[1].split(", ")[W(o)?5:4]):null)}function va(d){return 8*(Math.log(d+1)-2)}function W(d){switch(d){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return d}}function qe(d,o){if(!d)return()=>{};const i=d.style.cssText;return Object.assign(d.style,o),()=>{d.style.cssText=i}}function ca(...d){return(...o)=>{for(const i of d)typeof i=="function"&&i(...o)}}const L={DURATION:.5,EASE:[.32,.72,0,1]},ft=.4,ga=.25,_a=100,pt=8,Le=16,vt=26,st="vaul-dragging";function ba({activeSnapPoint:d,snapPoints:o,drawerRef:i,overlayRef:c,fadeFromIndex:p,onSnapPointChange:T,direction:k}){const C=O(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);function $(){C.value={innerWidth:window.innerWidth,innerHeight:window.innerHeight}}it(()=>{typeof window<"u"&&window.addEventListener("resize",$)}),zt(()=>{typeof window<"u"&&window.removeEventListener("resize",$)});const I=ue(()=>(o.value&&d.value===o.value[o.value.length-1])??null),z=ue(()=>o.value&&o.value.length>0&&(p?.value||p?.value===0)&&!Number.isNaN(p?.value)&&o.value[p?.value??-1]===d.value||!o.value),g=ue(()=>{var V;return((V=o.value)==null?void 0:V.findIndex(m=>m===d.value))??null}),y=ue(()=>{var V;return((V=o.value)==null?void 0:V.map(m=>{const f=typeof m=="string";let S=0;if(f&&(S=Number.parseInt(m,10)),W(k.value)){const F=f?S:C.value?m*C.value.innerHeight:0;return C.value?k.value==="bottom"?C.value.innerHeight-F:-C.value.innerHeight+F:F}const N=f?S:C.value?m*C.value.innerWidth:0;return C.value?k.value==="right"?C.value.innerWidth-N:-C.value.innerWidth+N:N}))??[]}),A=ue(()=>{var V;return g.value!==null?(V=y.value)==null?void 0:V[g.value]:null}),D=V=>{var m,f,S,N;const F=((m=y.value)==null?void 0:m.findIndex(X=>X===V))??null;dt(()=>{var X;T(F,y.value),J((X=i.value)==null?void 0:X.$el,{transition:`transform ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,transform:W(k.value)?`translate3d(0, ${V}px, 0)`:`translate3d(${V}px, 0, 0)`})}),y.value&&F!==y.value.length-1&&F!==p?.value?J((f=c.value)==null?void 0:f.$el,{transition:`opacity ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,opacity:"0"}):J((S=c.value)==null?void 0:S.$el,{transition:`opacity ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,opacity:"1"}),d.value=F!==null?((N=o.value)==null?void 0:N[F])??null:null};ke([d,y,o],()=>{var V;if(d.value){const m=((V=o.value)==null?void 0:V.findIndex(f=>f===d.value))??-1;y.value&&m!==-1&&typeof y.value[m]=="number"&&D(y.value[m])}},{immediate:!0});function x({draggedDistance:V,closeDrawer:m,velocity:f,dismissible:S}){var N,F,X;if(p.value===void 0)return;const pe=k.value==="bottom"||k.value==="right"?(A.value??0)-V:(A.value??0)+V,we=g.value===p.value-1,ve=g.value===0,fe=V>0;if(we&&J((N=c.value)==null?void 0:N.$el,{transition:`opacity ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`}),f>2&&!fe){S?m():D(y.value[0]);return}if(f>2&&fe&&y&&o.value){D(y.value[o.value.length-1]);return}const $e=(F=y.value)==null?void 0:F.reduce((de,P)=>typeof de!="number"||typeof P!="number"?de:Math.abs(P-pe)<Math.abs(de-pe)?P:de),xe=W(k.value)?window.innerHeight:window.innerWidth;if(f>ft&&Math.abs(V)<xe*.4){const de=fe?1:-1;if(de>0&&I){D(y.value[(((X=o.value)==null?void 0:X.length)??0)-1]);return}if(ve&&de<0&&S&&m(),g.value===null)return;D(y.value[g.value+de]);return}D($e)}function oe({draggedDistance:V}){var m;if(A.value===null)return;const f=k.value==="bottom"||k.value==="right"?A.value-V:A.value+V;(k.value==="bottom"||k.value==="right")&&f<y.value[y.value.length-1]||(k.value==="top"||k.value==="left")&&f>y.value[y.value.length-1]||J((m=i.value)==null?void 0:m.$el,{transform:W(k.value)?`translate3d(0, ${f}px, 0)`:`translate3d(${f}px, 0, 0)`})}function _(V,m){if(!o.value||typeof g.value!="number"||!y.value||p.value===void 0)return null;const f=g.value===p.value-1;if(g.value>=p.value&&m)return 0;if(f&&!m)return 1;if(!z.value&&!f)return null;const S=f?g.value+1:g.value-1,N=f?y.value[S]-y.value[S-1]:y.value[S+1]-y.value[S],F=V/Math.abs(N);return f?1-F:F}return{isLastSnapPoint:I,shouldFade:z,getPercentageDragged:_,activeSnapPointIndex:g,onRelease:x,onDrag:oe,snapPointsOffset:y}}function ot(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}let Be=null;function ya(d){const{isOpen:o,modal:i,nested:c,hasBeenOpened:p,preventScrollRestoration:T,noBodyStyles:k}=d,C=O(typeof window<"u"?window.location.href:""),$=O(0);function I(){if(ot()&&Be===null&&o.value&&!k.value){Be={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:g,innerHeight:y}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-$.value}px`,left:`${-g}px`,right:"0px",height:"auto"}),setTimeout(()=>{requestAnimationFrame(()=>{const A=y-window.innerHeight;A&&$.value>=y&&(document.body.style.top=`-${$.value+A}px`)})},300)}}function z(){if(ot()&&Be!==null&&!k.value){const g=-Number.parseInt(document.body.style.top,10),y=-Number.parseInt(document.body.style.left,10);Object.assign(document.body.style,Be),window.requestAnimationFrame(()=>{if(T.value&&C.value!==window.location.href){C.value=window.location.href;return}window.scrollTo(y,g)}),Be=null}}return it(()=>{function g(){$.value=window.scrollY}g(),window.addEventListener("scroll",g),Lt(()=>{window.removeEventListener("scroll",g)})}),ke([o,p,C],()=>{c.value||!p.value||(o.value?(window.matchMedia("(display-mode: standalone)").matches||I(),i.value||setTimeout(()=>{z()},500)):z())}),{restorePositionSetting:z}}function wa(d,o){return d&&d.value?d:o}function xa(d){const{emitDrag:o,emitRelease:i,emitClose:c,emitOpenChange:p,open:T,dismissible:k,nested:C,modal:$,shouldScaleBackground:I,setBackgroundColorOnScale:z,scrollLockTimeout:g,closeThreshold:y,activeSnapPoint:A,fadeFromIndex:D,direction:x,noBodyStyles:oe,handleOnly:_,preventScrollRestoration:V}=d,m=O(T.value??!1),f=O(!1),S=O(!1),N=O(!1),F=O(null),X=O(null),pe=O(null),we=O(null),ve=O(null),fe=O(!1),$e=O(null),xe=O(0),de=O(!1);O(0);const P=O(null);O(0);const Ne=ue(()=>{var b;return((b=P.value)==null?void 0:b.$el.getBoundingClientRect().height)||0}),H=wa(d.snapPoints,O(void 0)),Fe=ue(()=>{var b;return H&&(((b=H.value)==null?void 0:b.length)??0)>0}),B=O(null),{activeSnapPointIndex:t,onRelease:n,snapPointsOffset:te,onDrag:Ve,shouldFade:Ce,getPercentageDragged:ct}=ba({snapPoints:H,activeSnapPoint:A,drawerRef:P,fadeFromIndex:D,overlayRef:F,onSnapPointChange:gt,direction:x});function gt(b,M){H.value&&b===M.length-1&&(X.value=new Date)}ya({isOpen:m,modal:$,nested:C,hasBeenOpened:f,noBodyStyles:oe,preventScrollRestoration:V});function Re(){return(window.innerWidth-vt)/window.innerWidth}function Ze(b,M){var Y;if(!b)return!1;let E=b;const Z=(Y=window.getSelection())==null?void 0:Y.toString(),ne=P.value?ze(P.value.$el,x.value):null,me=new Date;if(E.hasAttribute("data-vaul-no-drag")||E.closest("[data-vaul-no-drag]"))return!1;if(x.value==="right"||x.value==="left")return!0;if(X.value&&me.getTime()-X.value.getTime()<500)return!1;if(ne!==null&&(x.value==="bottom"?ne>0:ne<0))return!0;if(Z&&Z.length>0)return!1;if(ve.value&&me.getTime()-ve.value.getTime()<g.value&&ne===0||M)return ve.value=me,!1;for(;E;){if(E.scrollHeight>E.clientHeight){if(E.scrollTop!==0)return ve.value=new Date,!1;if(E.getAttribute("role")==="dialog")return!0}E=E.parentNode}return!0}function _t(b){!k.value&&!H.value||P.value&&!P.value.$el.contains(b.target)||(S.value=!0,pe.value=new Date,b.target.setPointerCapture(b.pointerId),xe.value=W(x.value)?b.clientY:b.clientX)}function bt(b){var M,Y,E,Z,ne,me;if(P.value&&S.value){const Pe=x.value==="bottom"||x.value==="right"?1:-1,Ee=(xe.value-(W(x.value)?b.clientY:b.clientX))*Pe,Ue=Ee>0,et=H.value&&!k.value&&!Ue;if(et&&t.value===0)return;const He=Math.abs(Ee),tt=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");let Se=He/Ne.value;const at=ct(He,Ue);if(at!==null&&(Se=at),et&&Se>=1||!fe.value&&!Ze(b.target,Ue))return;if((M=P?.value)==null||M.$el.classList.add(st),fe.value=!0,J((Y=P.value)==null?void 0:Y.$el,{transition:"none"}),J((E=F.value)==null?void 0:E.$el,{transition:"none"}),H.value&&Ve({draggedDistance:Ee}),Ue&&!H.value){const De=va(Ee),Ie=Math.min(De*-1,0)*Pe;J((Z=P.value)==null?void 0:Z.$el,{transform:W(x.value)?`translate3d(0, ${Ie}px, 0)`:`translate3d(${Ie}px, 0, 0)`});return}const kt=1-Se;if((Ce.value||D.value&&t.value===D.value-1)&&(o(Se),J((ne=F.value)==null?void 0:ne.$el,{opacity:`${kt}`,transition:"none"},!0)),tt&&F.value&&I.value){const De=Math.min(Re()+Se*(1-Re()),1),Ie=8-Se*8,lt=Math.max(0,14-Se*14);J(tt,{borderRadius:`${Ie}px`,transform:W(x.value)?`scale(${De}) translate3d(0, ${lt}px, 0)`:`scale(${De}) translate3d(${lt}px, 0, 0)`,transition:"none"},!0)}if(!H.value){const De=He*Pe;J((me=P.value)==null?void 0:me.$el,{transform:W(x.value)?`translate3d(0, ${De}px, 0)`:`translate3d(${De}px, 0, 0)`})}}}function Qe(){var b;if(!P.value)return;const M=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]"),Y=ze(P.value.$el,x.value);J(P.value.$el,{transform:"translate3d(0, 0, 0)",transition:`transform ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`}),J((b=F.value)==null?void 0:b.$el,{transition:`opacity ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,opacity:"1"}),I.value&&Y&&Y>0&&m.value&&J(M,{borderRadius:`${pt}px`,overflow:"hidden",...W(x.value)?{transform:`scale(${Re()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Re()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${L.DURATION}s`,transitionTimingFunction:`cubic-bezier(${L.EASE.join(",")})`},!0)}function Ae(b){P.value&&(c(),b||(m.value=!1),window.setTimeout(()=>{H.value&&(A.value=H.value[0])},L.DURATION*1e3))}Ye(()=>{if(!m.value&&I.value&&ia){const b=setTimeout(()=>{pa(document.body)},200);return()=>clearTimeout(b)}}),ke(T,()=>{m.value=T.value,T.value||Ae()});function yt(b){if(!S.value||!P.value)return;P.value.$el.classList.remove(st),fe.value=!1,S.value=!1,we.value=new Date;const M=ze(P.value.$el,x.value);if(!Ze(b.target,!1)||!M||Number.isNaN(M)||pe.value===null)return;const Y=we.value.getTime()-pe.value.getTime(),E=xe.value-(W(x.value)?b.clientY:b.clientX),Z=Math.abs(E)/Y;if(Z>.05&&(N.value=!0,window.setTimeout(()=>{N.value=!1},200)),H.value){const me=x.value==="bottom"||x.value==="right"?1:-1;n({draggedDistance:E*me,closeDrawer:Ae,velocity:Z,dismissible:k.value}),i(!0);return}if(x.value==="bottom"||x.value==="right"?E>0:E<0){Qe(),i(!0);return}if(Z>ft){Ae(),i(!1);return}const ne=Math.min(P.value.$el.getBoundingClientRect().height??0,window.innerHeight);if(M>=ne*y.value){Ae(),i(!1);return}i(!0),Qe()}ke(m,b=>{b&&(X.value=new Date),p(b)},{immediate:!0});function wt(b){var M,Y;const E=b?(window.innerWidth-Le)/window.innerWidth:1,Z=b?-16:0;$e.value&&window.clearTimeout($e.value),J((M=P.value)==null?void 0:M.$el,{transition:`transform ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,transform:`scale(${E}) translate3d(0, ${Z}px, 0)`}),!b&&(Y=P.value)!=null&&Y.$el&&($e.value=window.setTimeout(()=>{var ne,me;const Pe=ze((ne=P.value)==null?void 0:ne.$el,x.value);J((me=P.value)==null?void 0:me.$el,{transition:"none",transform:W(x.value)?`translate3d(0, ${Pe}px, 0)`:`translate3d(${Pe}px, 0, 0)`})},500))}function xt(b){var M;if(b<0)return;const Y=W(x.value)?window.innerHeight:window.innerWidth,E=(Y-Le)/Y,Z=E+b*(1-E),ne=-16+b*Le;J((M=P.value)==null?void 0:M.$el,{transform:W(x.value)?`scale(${Z}) translate3d(0, ${ne}px, 0)`:`scale(${Z}) translate3d(${ne}px, 0, 0)`,transition:"none"})}function ht(b){var M;const Y=W(x.value)?window.innerHeight:window.innerWidth,E=b?(Y-Le)/Y:1,Z=b?-16:0;b&&J((M=P.value)==null?void 0:M.$el,{transition:`transform ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,transform:W(x.value)?`scale(${E}) translate3d(0, ${Z}px, 0)`:`scale(${E}) translate3d(${Z}px, 0, 0)`})}return{open:T,isOpen:m,modal:$,keyboardIsOpen:de,hasBeenOpened:f,drawerRef:P,drawerHeightRef:Ne,overlayRef:F,handleRef:B,isDragging:S,dragStartTime:pe,isAllowedToDrag:fe,snapPoints:H,activeSnapPoint:A,hasSnapPoints:Fe,pointerStart:xe,dismissible:k,snapPointsOffset:te,direction:x,shouldFade:Ce,fadeFromIndex:D,shouldScaleBackground:I,setBackgroundColorOnScale:z,onPress:_t,onDrag:bt,onRelease:yt,closeDrawer:Ae,onNestedDrag:xt,onNestedRelease:ht,onNestedOpenChange:wt,emitClose:c,emitDrag:o,emitRelease:i,emitOpenChange:p,nested:C,handleOnly:_,noBodyStyles:oe}}const ha=q({__name:"DrawerRoot",props:{activeSnapPoint:{default:void 0},closeThreshold:{default:ga},shouldScaleBackground:{type:Boolean,default:void 0},setBackgroundColorOnScale:{type:Boolean,default:!0},scrollLockTimeout:{default:_a},fixed:{type:Boolean,default:void 0},dismissible:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},nested:{type:Boolean,default:!1},direction:{default:"bottom"},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean,default:!1},preventScrollRestoration:{type:Boolean},snapPoints:{default:void 0},fadeFromIndex:{default:void 0}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(d,{expose:o,emit:i}){const c=d,p=i;Et();const T=ue(()=>c.fadeFromIndex??(c.snapPoints&&c.snapPoints.length-1)),k=rt(c,"open",p,{defaultValue:c.defaultOpen,passive:c.open===void 0}),C=rt(c,"activeSnapPoint",p,{passive:c.activeSnapPoint===void 0}),$={emitDrag:D=>p("drag",D),emitRelease:D=>p("release",D),emitClose:()=>p("close"),emitOpenChange:D=>{p("update:open",D),setTimeout(()=>{p("animationEnd",D)},L.DURATION*1e3)}},{closeDrawer:I,hasBeenOpened:z,modal:g,isOpen:y}=fa(xa({...$,...Ut(c),activeSnapPoint:C,fadeFromIndex:T,open:k}));function A(D){if(k.value!==void 0){$.emitOpenChange(D);return}y.value=D,D?z.value=!0:I()}return o({open:y}),(D,x)=>(u(),h(e(Dt),{open:e(y),modal:e(g),"onUpdate:open":A},{default:a(()=>[ee(D.$slots,"default",{open:e(y)})]),_:3},8,["open","modal"]))}}),ka=q({__name:"DrawerOverlay",setup(d){const{overlayRef:o,hasSnapPoints:i,isOpen:c,shouldFade:p}=Xe();return(T,k)=>(u(),h(e($t),{ref_key:"overlayRef",ref:o,"data-vaul-overlay":"","data-vaul-snap-points":e(c)&&e(i)?"true":"false","data-vaul-snap-points-overlay":e(c)&&e(p)?"true":"false"},null,8,["data-vaul-snap-points","data-vaul-snap-points-overlay"]))}}),$a=()=>()=>{};function Sa(){const{direction:d,isOpen:o,shouldScaleBackground:i,setBackgroundColorOnScale:c,noBodyStyles:p}=Xe(),T=O(null),k=O(document.body.style.backgroundColor);function C(){return(window.innerWidth-vt)/window.innerWidth}Ye($=>{if(o.value&&i.value){T.value&&clearTimeout(T.value);const I=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!I)return;ca(c.value&&!p.value?qe(document.body,{background:"black"}):$a,qe(I,{transformOrigin:W(d.value)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${L.DURATION}s`,transitionTimingFunction:`cubic-bezier(${L.EASE.join(",")})`}));const z=qe(I,{borderRadius:`${pt}px`,overflow:"hidden",...W(d.value)?{transform:`scale(${C()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${C()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});$(()=>{z(),T.value=window.setTimeout(()=>{k.value?document.body.style.background=k.value:document.body.style.removeProperty("background")},L.DURATION*1e3)})}},{flush:"pre"})}const Da=q({__name:"DrawerContent",setup(d){const{open:o,isOpen:i,snapPointsOffset:c,hasSnapPoints:p,drawerRef:T,onPress:k,onDrag:C,onRelease:$,modal:I,emitOpenChange:z,dismissible:g,keyboardIsOpen:y,closeDrawer:A,direction:D,handleOnly:x}=Xe();Sa();const oe=O(!1),_=ue(()=>c.value&&c.value.length>0?`${c.value[0]}px`:"0");function V(S){if(!I.value||S.defaultPrevented){S.preventDefault();return}y.value&&(y.value=!1),g.value?z(!1):S.preventDefault()}function m(S){x.value||k(S)}function f(S){x.value||C(S)}return Ye(()=>{p.value&&window.requestAnimationFrame(()=>{oe.value=!0})}),(S,N)=>(u(),h(e(St),{ref_key:"drawerRef",ref:T,"data-vaul-drawer":"","data-vaul-drawer-direction":e(D),"data-vaul-delayed-snap-points":oe.value?"true":"false","data-vaul-snap-points":e(i)&&e(p)?"true":"false",style:Rt({"--snap-point-height":_.value}),onPointerdown:m,onPointermove:f,onPointerup:e($),onPointerDownOutside:V,onOpenAutoFocus:N[0]||(N[0]=Ft(()=>{},["prevent"])),onEscapeKeyDown:N[1]||(N[1]=F=>{e(g)||F.preventDefault()})},{default:a(()=>[ee(S.$slots,"default")]),_:3},8,["data-vaul-drawer-direction","data-vaul-delayed-snap-points","data-vaul-snap-points","style","onPointerup"]))}}),Ta=q({__name:"Drawer",props:{activeSnapPoint:{},closeThreshold:{},shouldScaleBackground:{type:Boolean,default:!0},setBackgroundColorOnScale:{type:Boolean},scrollLockTimeout:{},fixed:{type:Boolean},dismissible:{type:Boolean},modal:{type:Boolean},open:{type:Boolean},defaultOpen:{type:Boolean},nested:{type:Boolean},direction:{},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean},preventScrollRestoration:{type:Boolean},snapPoints:{},fadeFromIndex:{}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(d,{emit:o}){const p=ut(d,o);return(T,k)=>(u(),h(e(ha),Te({"data-slot":"drawer"},e(p)),{default:a(C=>[ee(T.$slots,"default",Ht(Mt(C)))]),_:3},16))}}),Va=q({__name:"DrawerClose",props:{asChild:{type:Boolean},as:{}},setup(d){const o=d;return(i,c)=>(u(),h(e(Tt),Te({"data-slot":"drawer-close"},o),{default:a(()=>[ee(i.$slots,"default")]),_:3},16))}}),Ca=q({__name:"DrawerOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(d){const o=d,i=Ke(o,"class");return(c,p)=>(u(),h(e(ka),Te({"data-slot":"drawer-overlay"},e(i),{class:e(se)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",o.class)}),null,16,["class"]))}}),Pa=q({inheritAttrs:!1,__name:"DrawerContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(d,{emit:o}){const i=d,p=ut(i,o);return(T,k)=>(u(),h(e(Vt),null,{default:a(()=>[l(Ca),l(e(Da),Te({"data-slot":"drawer-content"},{...T.$attrs,...e(p)},{class:e(se)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:sm:max-w-sm",i.class)}),{default:a(()=>[k[0]||(k[0]=r("div",{class:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"},null,-1)),ee(T.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Oa=q({__name:"DrawerDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(d){const o=d,i=Ke(o,"class");return(c,p)=>(u(),h(e(Ct),Te({"data-slot":"drawer-description"},e(i),{class:e(se)("text-muted-foreground text-sm",o.class)}),{default:a(()=>[ee(c.$slots,"default")]),_:3},16,["class"]))}}),Aa=q({__name:"DrawerFooter",props:{class:{}},setup(d){const o=d;return(i,c)=>(u(),w("div",{"data-slot":"drawer-footer",class:le(e(se)("mt-auto flex flex-col gap-2 p-4",o.class))},[ee(i.$slots,"default")],2))}}),Ba=q({__name:"DrawerHeader",props:{class:{}},setup(d){const o=d;return(i,c)=>(u(),w("div",{"data-slot":"drawer-header",class:le(e(se)("flex flex-col gap-1.5 p-4",o.class))},[ee(i.$slots,"default")],2))}}),Na=q({__name:"DrawerTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(d){const o=d,i=Ke(o,"class");return(c,p)=>(u(),h(e(Pt),Te({"data-slot":"drawer-title"},e(i),{class:e(se)("text-foreground font-semibold",o.class)}),{default:a(()=>[ee(c.$slots,"default")]),_:3},16,["class"]))}}),Fa=q({__name:"DrawerTrigger",props:{asChild:{type:Boolean},as:{}},setup(d){const o=d;return(i,c)=>(u(),h(e(Qt),Te({"data-slot":"drawer-trigger"},o),{default:a(()=>[ee(i.$slots,"default")]),_:3},16))}}),Ra={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},Ea={class:"grid auto-rows-min gap-4 md:grid-cols-3"},Ua={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},Ia={class:"text-2xl font-bold"},za={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},La={class:"text-2xl font-bold"},Ha={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},Ma={class:"text-2xl font-bold"},ja={class:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 bg-white md:min-h-min dark:border-sidebar-border dark:bg-sidebar"},Ga={class:"p-6"},Wa={class:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},qa={class:"flex flex-wrap gap-2"},Ya={class:"mb-4 space-y-4 rounded-lg border bg-muted/50 p-4"},Ka={class:"flex items-center justify-between"},Ja={class:"flex items-center gap-2"},Xa={key:0,class:"rounded-full bg-primary px-2 py-0.5 text-xs text-primary-foreground"},Za={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},Qa={class:"space-y-2"},el={class:"space-y-2"},tl={class:"space-y-2"},al={class:"space-y-2"},ll={class:"flex flex-col items-center gap-2 text-muted-foreground"},nl={key:1},rl={class:"flex items-center justify-end gap-2"},sl={key:0,class:"mt-6 flex flex-col gap-4 border-t pt-4 sm:flex-row sm:items-center sm:justify-between"},ol={class:"text-sm text-muted-foreground"},dl={class:"font-medium text-foreground"},il={class:"font-medium text-foreground"},ul={class:"font-medium text-foreground"},ml={class:"flex items-center gap-2"},fl={class:"hidden items-center gap-1 sm:flex"},pl={key:1,class:"px-2 text-muted-foreground"},vl={class:"flex items-center gap-2 sm:hidden"},cl={class:"text-sm text-muted-foreground"},gl={class:"grid gap-4 py-4"},_l={class:"grid gap-2"},bl={key:0,class:"text-sm text-red-600"},yl={class:"grid gap-4 sm:grid-cols-3"},wl={class:"grid gap-2"},xl={key:0,class:"text-sm text-red-600"},hl={class:"grid gap-2"},kl={class:"grid gap-2"},$l={key:0,class:"text-sm text-red-600"},Sl={class:"grid gap-4 sm:grid-cols-2"},Dl={class:"grid gap-2"},Tl={key:0,class:"text-sm text-red-600"},Vl={class:"grid gap-2"},Cl={key:0,class:"text-sm text-red-600"},Pl={class:"border-t pt-4"},Ol={class:"grid gap-4"},Al={class:"grid gap-4 sm:grid-cols-2"},Bl={class:"grid gap-2"},Nl={key:0,class:"text-sm text-red-600"},Fl={class:"grid gap-2"},Rl={key:0,class:"text-sm text-red-600"},El={class:"grid gap-4 sm:grid-cols-2"},Ul={class:"grid gap-2"},Il={key:0,class:"text-sm text-red-600"},zl={class:"grid gap-2"},Ll={key:0,class:"text-sm text-red-600"},Hl={class:"grid gap-4 py-4"},Ml={class:"grid gap-2"},jl={key:0,class:"text-sm text-red-600"},Gl={class:"grid gap-4 sm:grid-cols-3"},Wl={class:"grid gap-2"},ql={key:0,class:"text-sm text-red-600"},Yl={class:"grid gap-2"},Kl={class:"grid gap-2"},Jl={key:0,class:"text-sm text-red-600"},Xl={class:"grid gap-4 sm:grid-cols-2"},Zl={class:"grid gap-2"},Ql={key:0,class:"text-sm text-red-600"},en={class:"grid gap-2"},tn={key:0,class:"text-sm text-red-600"},an={class:"border-t pt-4"},ln={class:"grid gap-4"},nn={class:"grid gap-4 sm:grid-cols-2"},rn={class:"grid gap-2"},sn={key:0,class:"text-sm text-red-600"},on={class:"grid gap-2"},dn={key:0,class:"text-sm text-red-600"},un={class:"grid gap-4 sm:grid-cols-2"},mn={class:"grid gap-2"},fn={key:0,class:"text-sm text-red-600"},pn={class:"grid gap-2"},vn={key:0,class:"text-sm text-red-600"},cn={key:0,class:"py-12 text-center"},gn={key:1,class:"space-y-6 py-4"},_n={class:"rounded-lg border p-4"},bn={class:"grid gap-3 sm:grid-cols-2"},yn={class:"font-medium"},wn={class:"font-medium"},xn={class:"font-medium"},hn={class:"font-medium"},kn={class:"text-sm text-muted-foreground"},$n={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},Sn={class:"rounded-lg border bg-blue-50 p-4 dark:bg-blue-950"},Dn={class:"text-2xl font-bold"},Tn={class:"rounded-lg border bg-red-50 p-4 dark:bg-red-950"},Vn={class:"text-2xl font-bold"},Cn={class:"rounded-lg border bg-green-50 p-4 dark:bg-green-950"},Pn={class:"text-2xl font-bold"},On={class:"rounded-lg border bg-purple-50 p-4 dark:bg-purple-950"},An={class:"text-2xl font-bold"},Bn={class:"rounded-lg border"},Nn={class:"overflow-x-auto"},Fn={class:"rounded-lg border"},Rn={class:"overflow-x-auto"},nr=q({__name:"Index",props:{students:{},grades:{},filters:{},academicYears:{}},setup(d){const o=Gt("(min-width: 640px)"),i=ue(()=>({Root:o.value?Jt:Ta,Trigger:o.value?ea:Fa,Content:o.value?Kt:Pa,Header:o.value?Yt:Ba,Title:o.value?qt:Na,Description:o.value?Wt:Oa,Footer:o.value?Zt:Aa,Close:o.value?Xt:Va})),c=O(!1),p=O(!1),T=O(!1),k=O(null),C=O(null),$=O(null),I=O(!1),z=O(!1),g=d,y=()=>{if(!g.students)return[];const B=g.students.current_page,t=g.students.last_page,n=[];if(t<=7)for(let te=1;te<=t;te++)n.push(te);else{n.push(1),B>3&&n.push("...");const te=Math.max(2,B-1),Ve=Math.min(t-1,B+1);for(let Ce=te;Ce<=Ve;Ce++)n.push(Ce);B<t-2&&n.push("..."),n.push(t)}return n},A=B=>{if(!g.students)return;const t=g.students.path+"?page="+B,n={page:B};_.grade!=="all"&&(n.grade=_.grade),_.academic_year!=="all"&&(n.academic_year=_.academic_year),_.status!=="all"&&(n.status=_.status),_.search&&(n.search=_.search),Oe.get(t,n,{preserveState:!0,preserveScroll:!0})},D=g.students?.data||[],x=(g.grades||[]).filter(B=>B&&B.id),oe=g.academicYears||[],_=Me({grade:g.filters?.grade||"all",academic_year:g.filters?.academic_year||"all",status:g.filters?.status||"all",search:g.filters?.search||""}),V=[{title:"Dashboard",href:Nt().url},{title:"Students",href:Ot.index().url}],m=Me({adm_no:"",first_name:"",middle_name:"",last_name:"",gender:"",grade_id:"",guardian_first_name:"",guardian_last_name:"",guardian_phone:"",guardian_gender:""}),f=Me({adm_no:"",first_name:"",middle_name:"",last_name:"",gender:"",grade_id:"",guardian_first_name:"",guardian_last_name:"",guardian_phone:"",guardian_gender:""});ke(()=>[_.grade,_.academic_year,_.status],()=>{N()},{deep:!0});let S=null;ke(()=>_.search,B=>{clearTimeout(S),S=setTimeout(()=>{N()},500)});const N=()=>{Oe.get("/students",{grade:_.grade!=="all"?_.grade:void 0,academic_year:_.academic_year!=="all"?_.academic_year:void 0,status:_.status!=="all"?_.status:void 0,search:_.search||void 0},{preserveState:!0,preserveScroll:!0})},F=()=>{_.grade="all",_.academic_year="all",_.status="all",_.search="",Oe.get("/students")},X=ue(()=>_.grade!=="all"||_.academic_year!=="all"||_.status!=="all"||_.search!==""),pe=async()=>{if(!z.value){z.value=!0;try{const B=new URLSearchParams({grade:_.grade!=="all"?_.grade:"",academic_year:_.academic_year!=="all"?_.academic_year:"",status:_.status!=="all"?_.status:"",search:_.search||""}),t=await nt.get(`/students/export/pdf?${B.toString()}`,{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),te=document.createElement("a");te.href=n,te.setAttribute("download",`students-report-${new Date().toISOString().split("T")[0]}.pdf`),document.body.appendChild(te),te.click(),te.remove(),window.URL.revokeObjectURL(n)}catch(B){console.error("Error exporting PDF:",B),alert("Failed to export PDF. Please try again.")}finally{z.value=!1}}},we=()=>{m.reset()},ve=()=>{f.reset()},fe=B=>{const t=D.find(n=>n.id===B);t&&(k.value=t.id,f.adm_no=t.adm_no,f.first_name=t.first_name,f.middle_name=t.middle_name||"",f.last_name=t.last_name,f.gender=t.gender||"",f.grade_id=t.grade?.id?.toString()||"",f.guardian_first_name=t.guardian?.first_name||"",f.guardian_last_name=t.guardian?.last_name||"",f.guardian_phone=t.guardian?.phone_number||"",f.guardian_gender=t.guardian?.gender||"",p.value=!0)},$e=async B=>{C.value=B,I.value=!0,T.value=!0;try{const t=await nt.get(`/students/${B}`);$.value=t.data}catch(t){console.error("Error fetching student details:",t),alert("Failed to load student details"),T.value=!1}finally{I.value=!1}},xe=B=>{confirm("Are you sure you want to delete this student?")&&Oe.delete(`/students/${B}`)},de=()=>{we(),c.value=!0},P=()=>{m.post("/students",{onSuccess:()=>{c.value=!1,we()}})},Ne=()=>{k.value&&f.put(`/students/${k.value}`,{onSuccess:()=>{p.value=!1,ve()}})},H=B=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(B),Fe=B=>new Date(B).toLocaleDateString("en-KE",{year:"numeric",month:"short",day:"numeric"});return(B,t)=>(u(),w(ie,null,[l(e(jt),{title:"Students"}),l(Bt,{breadcrumbs:V},{default:a(()=>[r("div",Ra,[r("div",Ea,[r("div",Ua,[t[35]||(t[35]=r("div",{class:"text-sm font-medium text-muted-foreground"},"Total Students",-1)),r("div",Ia,v(e(D).length),1)]),r("div",za,[t[36]||(t[36]=r("div",{class:"text-sm font-medium text-muted-foreground"},"Active Grades",-1)),r("div",La,v(e(x).length),1)]),r("div",Ha,[t[37]||(t[37]=r("div",{class:"text-sm font-medium text-muted-foreground"},"Guardians",-1)),r("div",Ma,v(new Set(e(D).map(n=>n.guardian?.id)).size),1)])]),r("div",ja,[r("div",Ga,[r("div",Wa,[t[38]||(t[38]=r("h2",{class:"text-xl font-semibold"},"Students",-1)),r("div",qa,[l(e(ae),{variant:"outline",size:"sm",onClick:pe,disabled:z.value||e(D).length===0,class:"gap-2"},{default:a(()=>[l(e(ra),{class:"h-4 w-4"}),s(" "+v(z.value?"Exporting...":"Export PDF"),1)]),_:1},8,["disabled"]),r("button",{onClick:de,class:"rounded-lg bg-black px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200"}," + Add Student ")])]),r("div",Ya,[r("div",Ka,[r("div",Ja,[l(e(aa),{class:"h-4 w-4 text-muted-foreground"}),t[39]||(t[39]=r("span",{class:"text-sm font-medium"},"Filters",-1)),X.value?(u(),w("span",Xa," Active ")):R("",!0)]),X.value?(u(),h(e(ae),{key:0,variant:"ghost",size:"sm",onClick:F,class:"h-8 gap-1"},{default:a(()=>[l(e(At),{class:"h-3 w-3"}),t[40]||(t[40]=s(" Clear ",-1))]),_:1})):R("",!0)]),r("div",Za,[r("div",Qa,[l(e(U),{for:"search",class:"text-xs"},{default:a(()=>[...t[41]||(t[41]=[s("Search",-1)])]),_:1}),l(e(re),{id:"search",modelValue:e(_).search,"onUpdate:modelValue":t[0]||(t[0]=n=>e(_).search=n),placeholder:"Name or Adm No...",class:"h-9"},null,8,["modelValue"])]),r("div",el,[l(e(U),{for:"filter_grade",class:"text-xs"},{default:a(()=>[...t[42]||(t[42]=[s("Grade",-1)])]),_:1}),l(e(ce),{modelValue:e(_).grade,"onUpdate:modelValue":t[1]||(t[1]=n=>e(_).grade=n)},{default:a(()=>[l(e(ge),{class:"h-9"},{default:a(()=>[l(e(_e),{placeholder:"All Grades"})]),_:1}),l(e(be),null,{default:a(()=>[l(e(K),{value:"all"},{default:a(()=>[...t[43]||(t[43]=[s("All Grades",-1)])]),_:1}),(u(!0),w(ie,null,he(e(x),n=>(u(),h(e(K),{key:n.id,value:String(n.id)},{default:a(()=>[s(v(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",tl,[l(e(U),{for:"filter_year",class:"text-xs"},{default:a(()=>[...t[44]||(t[44]=[s("Academic Year",-1)])]),_:1}),l(e(ce),{modelValue:e(_).academic_year,"onUpdate:modelValue":t[2]||(t[2]=n=>e(_).academic_year=n)},{default:a(()=>[l(e(ge),{class:"h-9"},{default:a(()=>[l(e(_e),{placeholder:"All Years"})]),_:1}),l(e(be),null,{default:a(()=>[l(e(K),{value:"all"},{default:a(()=>[...t[45]||(t[45]=[s("All Years",-1)])]),_:1}),(u(!0),w(ie,null,he(e(oe),n=>(u(),h(e(K),{key:n,value:n},{default:a(()=>[s(v(n),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",al,[l(e(U),{for:"filter_status",class:"text-xs"},{default:a(()=>[...t[46]||(t[46]=[s("Status",-1)])]),_:1}),l(e(ce),{modelValue:e(_).status,"onUpdate:modelValue":t[3]||(t[3]=n=>e(_).status=n)},{default:a(()=>[l(e(ge),{class:"h-9"},{default:a(()=>[l(e(_e),{placeholder:"All Status"})]),_:1}),l(e(be),null,{default:a(()=>[l(e(K),{value:"all"},{default:a(()=>[...t[47]||(t[47]=[s("All Status",-1)])]),_:1}),l(e(K),{value:"active"},{default:a(()=>[...t[48]||(t[48]=[s("Active",-1)])]),_:1}),l(e(K),{value:"graduated"},{default:a(()=>[...t[49]||(t[49]=[s("Graduated",-1)])]),_:1}),l(e(K),{value:"transferred"},{default:a(()=>[...t[50]||(t[50]=[s("Transferred",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),l(e(je),null,{default:a(()=>[l(e(da),null,{default:a(()=>[s(v(e(D).length)+" student(s) found ",1),X.value?(u(),w(ie,{key:0},[s(" (filtered)")],64)):R("",!0)]),_:1}),l(e(We),null,{default:a(()=>[l(e(ye),null,{default:a(()=>[l(e(Q),null,{default:a(()=>[...t[51]||(t[51]=[s("#",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[52]||(t[52]=[s("Adm No",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[53]||(t[53]=[s("Name",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[54]||(t[54]=[s("Academic Year",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[55]||(t[55]=[s("Grade",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[56]||(t[56]=[s("Status",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[57]||(t[57]=[s("Phone",-1)])]),_:1}),l(e(Q),{class:"text-right"},{default:a(()=>[...t[58]||(t[58]=[s("Actions",-1)])]),_:1})]),_:1})]),_:1}),l(e(Ge),null,{default:a(()=>[e(D).length===0?(u(),h(e(ye),{key:0},{default:a(()=>[l(e(G),{colspan:"8",class:"h-24 text-center"},{default:a(()=>[r("div",ll,[X.value?(u(),w(ie,{key:0},[t[60]||(t[60]=r("p",null,"No students match your filters",-1)),l(e(ae),{variant:"link",size:"sm",onClick:F},{default:a(()=>[...t[59]||(t[59]=[s(" Clear filters ",-1)])]),_:1})],64)):(u(),w("p",nl,"No students found. Add your first student to get started."))])]),_:1})]),_:1})):R("",!0),(u(!0),w(ie,null,he(e(D),(n,te)=>(u(),h(e(ye),{key:n.id,class:le(["hover:bg-gray-50 dark:hover:bg-sidebar-accent",{"bg-muted/50":te%2===0}])},{default:a(()=>[l(e(G),{class:"font-medium"},{default:a(()=>[s(v(te+1),1)]),_:2},1024),l(e(G),{class:"font-medium"},{default:a(()=>[s(v(n.adm_no),1)]),_:2},1024),l(e(G),null,{default:a(()=>[s(v(n.first_name)+" "+v(n.middle_name)+" "+v(n.last_name),1)]),_:2},1024),l(e(G),null,{default:a(()=>[s(v(n.academic_year),1)]),_:2},1024),l(e(G),null,{default:a(()=>[s(v(n.grade?.name||"N/A"),1)]),_:2},1024),l(e(G),null,{default:a(()=>[r("span",{class:le(["inline-flex rounded-full px-2 py-1 text-xs font-semibold",{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n.status==="active","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":n.status==="graduated","bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200":n.status==="transferred"}])},v(n.status),3)]),_:2},1024),l(e(G),null,{default:a(()=>[s(v(n.guardian?.phone_number||"N/A"),1)]),_:2},1024),l(e(G),{class:"text-right"},{default:a(()=>[r("div",rl,[l(e(ae),{variant:"default",size:"sm",onClick:Ve=>$e(n.id)},{default:a(()=>[l(e(la),{class:"h-4 w-4"}),t[61]||(t[61]=s(" View ",-1))]),_:1},8,["onClick"]),l(e(ae),{variant:"outline",size:"sm",onClick:Ve=>fe(n.id)},{default:a(()=>[l(e(sa),{class:"h-4 w-4"}),t[62]||(t[62]=s(" Edit ",-1))]),_:1},8,["onClick"]),l(e(ae),{variant:"destructive",size:"sm",onClick:Ve=>xe(n.id)},{default:a(()=>[l(e(na),{class:"h-4 w-4"}),t[63]||(t[63]=s(" Delete ",-1))]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1}),g.students&&g.students.last_page>1?(u(),w("div",sl,[r("div",ol,[t[64]||(t[64]=s(" Showing ",-1)),r("span",dl,v(g.students.from),1),t[65]||(t[65]=s(" to ",-1)),r("span",il,v(g.students.to),1),t[66]||(t[66]=s(" of ",-1)),r("span",ul,v(g.students.total),1),t[67]||(t[67]=s(" results ",-1))]),r("div",ml,[l(e(ae),{variant:"outline",size:"sm",disabled:g.students.current_page===1,onClick:t[4]||(t[4]=()=>A(1))},{default:a(()=>[...t[68]||(t[68]=[s(" First ",-1)])]),_:1},8,["disabled"]),l(e(ae),{variant:"outline",size:"sm",disabled:!g.students.prev_page_url,onClick:t[5]||(t[5]=()=>e(Oe).get(g.students.prev_page_url,{},{preserveState:!0,preserveScroll:!0}))},{default:a(()=>[...t[69]||(t[69]=[s(" Previous ",-1)])]),_:1},8,["disabled"]),r("div",fl,[(u(!0),w(ie,null,he(y(),n=>(u(),w(ie,{key:n},[n!=="..."?(u(),h(e(ae),{key:0,variant:"outline",size:"sm",class:le({"bg-primary text-primary-foreground":n===g.students.current_page}),onClick:()=>A(n)},{default:a(()=>[s(v(n),1)]),_:2},1032,["class","onClick"])):(u(),w("span",pl,"..."))],64))),128))]),r("div",vl,[r("span",cl," Page "+v(g.students.current_page)+" of "+v(g.students.last_page),1)]),l(e(ae),{variant:"outline",size:"sm",disabled:!g.students.next_page_url,onClick:t[6]||(t[6]=()=>e(Oe).get(g.students.next_page_url,{},{preserveState:!0,preserveScroll:!0}))},{default:a(()=>[...t[70]||(t[70]=[s(" Next ",-1)])]),_:1},8,["disabled"]),l(e(ae),{variant:"outline",size:"sm",disabled:g.students.current_page===g.students.last_page,onClick:t[7]||(t[7]=()=>A(g.students.last_page))},{default:a(()=>[...t[71]||(t[71]=[s(" Last ",-1)])]),_:1},8,["disabled"])])])):R("",!0)])])]),(u(),h(j(i.value.Root),{open:c.value,"onUpdate:open":t[20]||(t[20]=n=>c.value=n),modal:!0},{default:a(()=>[(u(),h(j(i.value.Content),{class:le(["sm:max-w-2xl",[{"px-2 pb-8 *:px-4":!e(o)}]]),onInteractOutside:t[18]||(t[18]=n=>n.preventDefault()),onEscapeKeyDown:t[19]||(t[19]=n=>n.preventDefault())},{default:a(()=>[(u(),h(j(i.value.Header),null,{default:a(()=>[(u(),h(j(i.value.Title),null,{default:a(()=>[...t[72]||(t[72]=[s(" Add New Student ",-1)])]),_:1})),(u(),h(j(i.value.Description),null,{default:a(()=>[...t[73]||(t[73]=[s(" Fill in the student information below to add a new student to the system. ",-1)])]),_:1}))]),_:1})),r("div",gl,[r("div",_l,[l(e(U),{for:"adm_no"},{default:a(()=>[...t[74]||(t[74]=[s(" Admission Number ",-1)])]),_:1}),l(e(re),{id:"adm_no",modelValue:e(m).adm_no,"onUpdate:modelValue":t[8]||(t[8]=n=>e(m).adm_no=n),placeholder:"e.g., STU009"},null,8,["modelValue"]),e(m).errors.adm_no?(u(),w("span",bl,v(e(m).errors.adm_no),1)):R("",!0)]),r("div",yl,[r("div",wl,[l(e(U),{for:"first_name"},{default:a(()=>[...t[75]||(t[75]=[s(" First Name ",-1)])]),_:1}),l(e(re),{id:"first_name",modelValue:e(m).first_name,"onUpdate:modelValue":t[9]||(t[9]=n=>e(m).first_name=n),placeholder:"John"},null,8,["modelValue"]),e(m).errors.first_name?(u(),w("span",xl,v(e(m).errors.first_name),1)):R("",!0)]),r("div",hl,[l(e(U),{for:"middle_name"},{default:a(()=>[...t[76]||(t[76]=[s(" Middle Name ",-1)])]),_:1}),l(e(re),{id:"middle_name",modelValue:e(m).middle_name,"onUpdate:modelValue":t[10]||(t[10]=n=>e(m).middle_name=n),placeholder:"Optional"},null,8,["modelValue"])]),r("div",kl,[l(e(U),{for:"last_name"},{default:a(()=>[...t[77]||(t[77]=[s(" Last Name ",-1)])]),_:1}),l(e(re),{id:"last_name",modelValue:e(m).last_name,"onUpdate:modelValue":t[11]||(t[11]=n=>e(m).last_name=n),placeholder:"Doe"},null,8,["modelValue"]),e(m).errors.last_name?(u(),w("span",$l,v(e(m).errors.last_name),1)):R("",!0)])]),r("div",Sl,[r("div",Dl,[l(e(U),{for:"gender"},{default:a(()=>[...t[78]||(t[78]=[s(" Gender ",-1)])]),_:1}),l(e(ce),{modelValue:e(m).gender,"onUpdate:modelValue":t[12]||(t[12]=n=>e(m).gender=n)},{default:a(()=>[l(e(ge),null,{default:a(()=>[l(e(_e),{placeholder:"Select gender"})]),_:1}),l(e(be),null,{default:a(()=>[l(e(K),{value:"male"},{default:a(()=>[...t[79]||(t[79]=[s("Male",-1)])]),_:1}),l(e(K),{value:"female"},{default:a(()=>[...t[80]||(t[80]=[s("Female",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(m).errors.gender?(u(),w("span",Tl,v(e(m).errors.gender),1)):R("",!0)]),r("div",Vl,[l(e(U),{for:"grade_id"},{default:a(()=>[...t[81]||(t[81]=[s(" Grade ",-1)])]),_:1}),l(e(ce),{modelValue:e(m).grade_id,"onUpdate:modelValue":t[13]||(t[13]=n=>e(m).grade_id=n)},{default:a(()=>[l(e(ge),null,{default:a(()=>[l(e(_e),{placeholder:"Select a grade"})]),_:1}),l(e(be),null,{default:a(()=>[(u(!0),w(ie,null,he(e(x),n=>(u(),h(e(K),{key:n.id,value:String(n.id)},{default:a(()=>[s(v(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(m).errors.grade_id?(u(),w("span",Cl,v(e(m).errors.grade_id),1)):R("",!0)])]),r("div",Pl,[t[88]||(t[88]=r("h3",{class:"mb-3 text-sm font-semibold"},"Guardian Information",-1)),r("div",Ol,[r("div",Al,[r("div",Bl,[l(e(U),{for:"guardian_first_name"},{default:a(()=>[...t[82]||(t[82]=[s(" Guardian First Name ",-1)])]),_:1}),l(e(re),{id:"guardian_first_name",modelValue:e(m).guardian_first_name,"onUpdate:modelValue":t[14]||(t[14]=n=>e(m).guardian_first_name=n),placeholder:"Jane"},null,8,["modelValue"]),e(m).errors.guardian_first_name?(u(),w("span",Nl,v(e(m).errors.guardian_first_name),1)):R("",!0)]),r("div",Fl,[l(e(U),{for:"guardian_last_name"},{default:a(()=>[...t[83]||(t[83]=[s(" Guardian Last Name ",-1)])]),_:1}),l(e(re),{id:"guardian_last_name",modelValue:e(m).guardian_last_name,"onUpdate:modelValue":t[15]||(t[15]=n=>e(m).guardian_last_name=n),placeholder:"Doe"},null,8,["modelValue"]),e(m).errors.guardian_last_name?(u(),w("span",Rl,v(e(m).errors.guardian_last_name),1)):R("",!0)])]),r("div",El,[r("div",Ul,[l(e(U),{for:"guardian_gender"},{default:a(()=>[...t[84]||(t[84]=[s(" Guardian Gender ",-1)])]),_:1}),l(e(ce),{modelValue:e(m).guardian_gender,"onUpdate:modelValue":t[16]||(t[16]=n=>e(m).guardian_gender=n)},{default:a(()=>[l(e(ge),null,{default:a(()=>[l(e(_e),{placeholder:"Select gender"})]),_:1}),l(e(be),null,{default:a(()=>[l(e(K),{value:"male"},{default:a(()=>[...t[85]||(t[85]=[s("Male",-1)])]),_:1}),l(e(K),{value:"female"},{default:a(()=>[...t[86]||(t[86]=[s("Female",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(m).errors.guardian_gender?(u(),w("span",Il,v(e(m).errors.guardian_gender),1)):R("",!0)]),r("div",zl,[l(e(U),{for:"guardian_phone"},{default:a(()=>[...t[87]||(t[87]=[s(" Guardian Phone Number ",-1)])]),_:1}),l(e(re),{id:"guardian_phone",modelValue:e(m).guardian_phone,"onUpdate:modelValue":t[17]||(t[17]=n=>e(m).guardian_phone=n),placeholder:"0712345678",type:"tel"},null,8,["modelValue"]),e(m).errors.guardian_phone?(u(),w("span",Ll,v(e(m).errors.guardian_phone),1)):R("",!0)])])])])]),(u(),h(j(i.value.Footer),{class:"pt-4"},{default:a(()=>[(u(),h(j(i.value.Close),{"as-child":""},{default:a(()=>[l(e(ae),{variant:"outline",onClick:we},{default:a(()=>[...t[89]||(t[89]=[s(" Cancel ",-1)])]),_:1})]),_:1})),l(e(ae),{onClick:P,disabled:e(m).processing},{default:a(()=>[s(v(e(m).processing?"Adding...":"Add Student"),1)]),_:1},8,["disabled"])]),_:1}))]),_:1},40,["class"]))]),_:1},40,["open"])),(u(),h(j(i.value.Root),{open:p.value,"onUpdate:open":t[33]||(t[33]=n=>p.value=n),modal:!0},{default:a(()=>[(u(),h(j(i.value.Content),{class:le(["sm:max-w-2xl",[{"px-2 pb-8 *:px-4":!e(o)}]]),onInteractOutside:t[31]||(t[31]=n=>n.preventDefault()),onEscapeKeyDown:t[32]||(t[32]=n=>n.preventDefault())},{default:a(()=>[(u(),h(j(i.value.Header),null,{default:a(()=>[(u(),h(j(i.value.Title),null,{default:a(()=>[...t[90]||(t[90]=[s(" Edit Student ",-1)])]),_:1})),(u(),h(j(i.value.Description),null,{default:a(()=>[...t[91]||(t[91]=[s(" Update the student information below. ",-1)])]),_:1}))]),_:1})),r("div",Hl,[r("div",Ml,[l(e(U),{for:"edit_adm_no"},{default:a(()=>[...t[92]||(t[92]=[s(" Admission Number ",-1)])]),_:1}),l(e(re),{id:"edit_adm_no",modelValue:e(f).adm_no,"onUpdate:modelValue":t[21]||(t[21]=n=>e(f).adm_no=n),placeholder:"e.g., STU009"},null,8,["modelValue"]),e(f).errors.adm_no?(u(),w("span",jl,v(e(f).errors.adm_no),1)):R("",!0)]),r("div",Gl,[r("div",Wl,[l(e(U),{for:"edit_first_name"},{default:a(()=>[...t[93]||(t[93]=[s(" First Name ",-1)])]),_:1}),l(e(re),{id:"edit_first_name",modelValue:e(f).first_name,"onUpdate:modelValue":t[22]||(t[22]=n=>e(f).first_name=n),placeholder:"John"},null,8,["modelValue"]),e(f).errors.first_name?(u(),w("span",ql,v(e(f).errors.first_name),1)):R("",!0)]),r("div",Yl,[l(e(U),{for:"edit_middle_name"},{default:a(()=>[...t[94]||(t[94]=[s(" Middle Name ",-1)])]),_:1}),l(e(re),{id:"edit_middle_name",modelValue:e(f).middle_name,"onUpdate:modelValue":t[23]||(t[23]=n=>e(f).middle_name=n),placeholder:"Optional"},null,8,["modelValue"])]),r("div",Kl,[l(e(U),{for:"edit_last_name"},{default:a(()=>[...t[95]||(t[95]=[s(" Last Name ",-1)])]),_:1}),l(e(re),{id:"edit_last_name",modelValue:e(f).last_name,"onUpdate:modelValue":t[24]||(t[24]=n=>e(f).last_name=n),placeholder:"Doe"},null,8,["modelValue"]),e(f).errors.last_name?(u(),w("span",Jl,v(e(f).errors.last_name),1)):R("",!0)])]),r("div",Xl,[r("div",Zl,[l(e(U),{for:"edit_gender"},{default:a(()=>[...t[96]||(t[96]=[s(" Gender ",-1)])]),_:1}),l(e(ce),{modelValue:e(f).gender,"onUpdate:modelValue":t[25]||(t[25]=n=>e(f).gender=n)},{default:a(()=>[l(e(ge),null,{default:a(()=>[l(e(_e),{placeholder:"Select gender"})]),_:1}),l(e(be),null,{default:a(()=>[l(e(K),{value:"male"},{default:a(()=>[...t[97]||(t[97]=[s("Male",-1)])]),_:1}),l(e(K),{value:"female"},{default:a(()=>[...t[98]||(t[98]=[s("Female",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(f).errors.gender?(u(),w("span",Ql,v(e(f).errors.gender),1)):R("",!0)]),r("div",en,[l(e(U),{for:"edit_grade_id"},{default:a(()=>[...t[99]||(t[99]=[s(" Grade ",-1)])]),_:1}),l(e(ce),{modelValue:e(f).grade_id,"onUpdate:modelValue":t[26]||(t[26]=n=>e(f).grade_id=n)},{default:a(()=>[l(e(ge),null,{default:a(()=>[l(e(_e),{placeholder:"Select a grade"})]),_:1}),l(e(be),null,{default:a(()=>[(u(!0),w(ie,null,he(e(x),n=>(u(),h(e(K),{key:n.id,value:n.id.toString()},{default:a(()=>[s(v(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(f).errors.grade_id?(u(),w("span",tn,v(e(f).errors.grade_id),1)):R("",!0)])]),r("div",an,[t[106]||(t[106]=r("h3",{class:"mb-3 text-sm font-semibold"},"Guardian Information",-1)),r("div",ln,[r("div",nn,[r("div",rn,[l(e(U),{for:"edit_guardian_first_name"},{default:a(()=>[...t[100]||(t[100]=[s(" Guardian First Name ",-1)])]),_:1}),l(e(re),{id:"edit_guardian_first_name",modelValue:e(f).guardian_first_name,"onUpdate:modelValue":t[27]||(t[27]=n=>e(f).guardian_first_name=n),placeholder:"Jane"},null,8,["modelValue"]),e(f).errors.guardian_first_name?(u(),w("span",sn,v(e(f).errors.guardian_first_name),1)):R("",!0)]),r("div",on,[l(e(U),{for:"edit_guardian_last_name"},{default:a(()=>[...t[101]||(t[101]=[s(" Guardian Last Name ",-1)])]),_:1}),l(e(re),{id:"edit_guardian_last_name",modelValue:e(f).guardian_last_name,"onUpdate:modelValue":t[28]||(t[28]=n=>e(f).guardian_last_name=n),placeholder:"Doe"},null,8,["modelValue"]),e(f).errors.guardian_last_name?(u(),w("span",dn,v(e(f).errors.guardian_last_name),1)):R("",!0)])]),r("div",un,[r("div",mn,[l(e(U),{for:"edit_guardian_gender"},{default:a(()=>[...t[102]||(t[102]=[s(" Guardian Gender ",-1)])]),_:1}),l(e(ce),{modelValue:e(f).guardian_gender,"onUpdate:modelValue":t[29]||(t[29]=n=>e(f).guardian_gender=n)},{default:a(()=>[l(e(ge),null,{default:a(()=>[l(e(_e),{placeholder:"Select gender"})]),_:1}),l(e(be),null,{default:a(()=>[l(e(K),{value:"male"},{default:a(()=>[...t[103]||(t[103]=[s("Male",-1)])]),_:1}),l(e(K),{value:"female"},{default:a(()=>[...t[104]||(t[104]=[s("Female",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(f).errors.guardian_gender?(u(),w("span",fn,v(e(f).errors.guardian_gender),1)):R("",!0)]),r("div",pn,[l(e(U),{for:"edit_guardian_phone"},{default:a(()=>[...t[105]||(t[105]=[s(" Guardian Phone Number ",-1)])]),_:1}),l(e(re),{id:"edit_guardian_phone",modelValue:e(f).guardian_phone,"onUpdate:modelValue":t[30]||(t[30]=n=>e(f).guardian_phone=n),placeholder:"0712345678",type:"tel"},null,8,["modelValue"]),e(f).errors.guardian_phone?(u(),w("span",vn,v(e(f).errors.guardian_phone),1)):R("",!0)])])])])]),(u(),h(j(i.value.Footer),{class:"pt-4"},{default:a(()=>[(u(),h(j(i.value.Close),{"as-child":""},{default:a(()=>[l(e(ae),{variant:"outline",onClick:ve},{default:a(()=>[...t[107]||(t[107]=[s(" Cancel ",-1)])]),_:1})]),_:1})),l(e(ae),{onClick:Ne,disabled:e(f).processing},{default:a(()=>[s(v(e(f).processing?"Updating...":"Update Student"),1)]),_:1},8,["disabled"])]),_:1}))]),_:1},40,["class"]))]),_:1},40,["open"])),(u(),h(j(i.value.Root),{open:T.value,"onUpdate:open":t[34]||(t[34]=n=>T.value=n),modal:!0},{default:a(()=>[(u(),h(j(i.value.Content),{class:le(["sm:max-w-4xl max-h-[90vh] overflow-y-auto",[{"px-2 pb-8 *:px-4":!e(o)}]])},{default:a(()=>[(u(),h(j(i.value.Header),null,{default:a(()=>[(u(),h(j(i.value.Title),null,{default:a(()=>[...t[108]||(t[108]=[s(" Student Details ",-1)])]),_:1})),(u(),h(j(i.value.Description),null,{default:a(()=>[...t[109]||(t[109]=[s(" Complete financial and personal information ",-1)])]),_:1}))]),_:1})),I.value?(u(),w("div",cn,[...t[110]||(t[110]=[r("div",{class:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent"},null,-1),r("p",{class:"mt-4 text-sm text-muted-foreground"},"Loading student details...",-1)])])):$.value?(u(),w("div",gn,[r("div",_n,[t[115]||(t[115]=r("h3",{class:"mb-3 font-semibold"},"Student Information",-1)),r("div",bn,[r("div",null,[t[111]||(t[111]=r("p",{class:"text-sm text-muted-foreground"},"Admission Number",-1)),r("p",yn,v($.value.student.adm_no),1)]),r("div",null,[t[112]||(t[112]=r("p",{class:"text-sm text-muted-foreground"},"Full Name",-1)),r("p",wn,v($.value.student.first_name)+" "+v($.value.student.middle_name)+" "+v($.value.student.last_name),1)]),r("div",null,[t[113]||(t[113]=r("p",{class:"text-sm text-muted-foreground"},"Grade",-1)),r("p",xn,v($.value.student.grade?.name||"N/A"),1)]),r("div",null,[t[114]||(t[114]=r("p",{class:"text-sm text-muted-foreground"},"Guardian",-1)),r("p",hn,v($.value.student.guardian?.first_name)+" "+v($.value.student.guardian?.last_name),1),r("p",kn,v($.value.student.guardian?.phone_number),1)])])]),r("div",$n,[r("div",Sn,[t[116]||(t[116]=r("p",{class:"text-sm font-medium text-blue-600 dark:text-blue-400"},"Total Paid",-1)),r("p",Dn,v(H($.value.summary.total_paid)),1)]),r("div",Tn,[t[117]||(t[117]=r("p",{class:"text-sm font-medium text-red-600 dark:text-red-400"},"Total Balance",-1)),r("p",Vn,v(H($.value.summary.total_balance)),1)]),r("div",Cn,[t[118]||(t[118]=r("p",{class:"text-sm font-medium text-green-600 dark:text-green-400"},"Available Credits",-1)),r("p",Pn,v(H($.value.summary.available_credits)),1)]),r("div",On,[t[119]||(t[119]=r("p",{class:"text-sm font-medium text-purple-600 dark:text-purple-400"},"Current Term Balance",-1)),r("p",An,v(H($.value.summary.current_term_balance)),1)])]),r("div",Bn,[t[125]||(t[125]=r("div",{class:"border-b p-4"},[r("h3",{class:"font-semibold"},"Payment History")],-1)),r("div",Nn,[l(e(je),null,{default:a(()=>[l(e(We),null,{default:a(()=>[l(e(ye),null,{default:a(()=>[l(e(Q),null,{default:a(()=>[...t[120]||(t[120]=[s("Date",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[121]||(t[121]=[s("Fee Term",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[122]||(t[122]=[s("Amount Paid",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[123]||(t[123]=[s("Balance",-1)])]),_:1})]),_:1})]),_:1}),l(e(Ge),null,{default:a(()=>[$.value.payments.length===0?(u(),h(e(ye),{key:0},{default:a(()=>[l(e(G),{colspan:"5",class:"text-center text-muted-foreground"},{default:a(()=>[...t[124]||(t[124]=[s(" No payments recorded ",-1)])]),_:1})]),_:1})):R("",!0),(u(!0),w(ie,null,he($.value.payments,n=>(u(),h(e(ye),{key:n.id},{default:a(()=>[l(e(G),null,{default:a(()=>[s(v(Fe(n.created_at)),1)]),_:2},1024),l(e(G),null,{default:a(()=>[s(v(n.fee?.term||"N/A"),1)]),_:2},1024),l(e(G),{class:"font-medium text-green-600"},{default:a(()=>[s(v(H(n.amount_paid)),1)]),_:2},1024),l(e(G),{class:"font-medium text-red-600"},{default:a(()=>[s(v(H(n.balance)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),r("div",Fn,[t[132]||(t[132]=r("div",{class:"border-b p-4"},[r("h3",{class:"font-semibold"},"Fee Credits")],-1)),r("div",Rn,[l(e(je),null,{default:a(()=>[l(e(We),null,{default:a(()=>[l(e(ye),null,{default:a(()=>[l(e(Q),null,{default:a(()=>[...t[126]||(t[126]=[s("Date",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[127]||(t[127]=[s("Amount",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[128]||(t[128]=[s("Status",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[129]||(t[129]=[s("Source",-1)])]),_:1}),l(e(Q),null,{default:a(()=>[...t[130]||(t[130]=[s("Applied To",-1)])]),_:1})]),_:1})]),_:1}),l(e(Ge),null,{default:a(()=>[$.value.credits.length===0?(u(),h(e(ye),{key:0},{default:a(()=>[l(e(G),{colspan:"5",class:"text-center text-muted-foreground"},{default:a(()=>[...t[131]||(t[131]=[s(" No credits available ",-1)])]),_:1})]),_:1})):R("",!0),(u(!0),w(ie,null,he($.value.credits,n=>(u(),h(e(ye),{key:n.id},{default:a(()=>[l(e(G),null,{default:a(()=>[s(v(Fe(n.created_at)),1)]),_:2},1024),l(e(G),{class:"font-medium"},{default:a(()=>[s(v(H(n.amount)),1)]),_:2},1024),l(e(G),null,{default:a(()=>[r("span",{class:le(["inline-flex rounded-full px-2 py-1 text-xs font-semibold",{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n.status==="available","bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200":n.status==="applied"}])},v(n.status),3)]),_:2},1024),l(e(G),null,{default:a(()=>[s(v(n.from_payment?`Payment #${n.from_payment.id}`:"N/A"),1)]),_:2},1024),l(e(G),null,{default:a(()=>[s(v(n.applied_to_fee?n.applied_to_fee.term:"Not Applied"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])):R("",!0),(u(),h(j(i.value.Footer),{class:"pt-4"},{default:a(()=>[(u(),h(j(i.value.Close),{"as-child":""},{default:a(()=>[l(e(ae),{variant:"outline"},{default:a(()=>[...t[133]||(t[133]=[s(" Close ",-1)])]),_:1})]),_:1}))]),_:1}))]),_:1},8,["class"]))]),_:1},40,["open"]))]),_:1})],64))}});export{nr as default};
