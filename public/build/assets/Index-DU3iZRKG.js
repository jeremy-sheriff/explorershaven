import{a as ka,b as Sa,c as Da,d as Ta,e as Va,g as Ca,h as Oa,s as Aa,X as Pa,_ as Ba}from"./AppLayout.vue_vue_type_script_setup_true_lang-DkQoY_wz.js";import{d as Na}from"./index-Bhpqllgs.js";import{d as W,c as h,b as r,y as Z,e as te,u as e,o as m,l as x,f as A,i as oe,z as je,w as t,A as Fa,n as Ra,B as Ea,C as Ua,D as Ia,p as we,E as oa,G as sa,H as La,I as za,J as Ha,K as Ma,L as Se,a as l,g as Ie,m as Le,h as Ga,t as c,k as d,j as E,F as fe,r as ke,M,N as ta}from"./app-BzP0bjkF.js";import{c as le,_ as ie}from"./index-BRMJu-tt.js";import{r as We,a as ja}from"./index-BaDQw0Rp.js";import{_ as pe,a as ve,b as ce,c as ge,d as Y}from"./SelectValue.vue_vue_type_script_setup_true_lang-BmhFwqWa.js";import{d as Wa,c as qa,b as Ya,a as Ka,_ as Ja}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DHffWGrj.js";import{a as Xa,_ as Za}from"./DialogFooter.vue_vue_type_script_setup_true_lang-WOGYxe3S.js";import{D as Qa,_ as et}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-01YkR4P1.js";import{u as da}from"./useForwardPropsEmits-CJFDUY_z.js";import{c as at}from"./VisuallyHidden-BRdka8Af.js";import{_ as ae}from"./Input.vue_vue_type_script_setup_true_lang-oM6mc5lC.js";import{_ as U}from"./Label.vue_vue_type_script_setup_true_lang-Caxlt3-9.js";import{c as qe}from"./createLucideIcon-JJX8_kS9.js";import{F as tt}from"./filter-B7rI0Tp3.js";import{E as lt}from"./eye-DOlQVSDd.js";import"./useForwardExpose-CDUVeOWW.js";import"./index-CMWG4mbA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CM-TIOBv.js";import"./check-DDnXqKGa.js";import"./useFormControl-CcyuPL07.js";const nt=qe("DeleteIcon",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);const rt=qe("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const ot=qe("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),st={"data-slot":"table-container",class:"relative w-full overflow-auto"},ze=W({__name:"Table",props:{class:{}},setup(s){const o=s;return(i,v)=>(m(),h("div",st,[r("table",{"data-slot":"table",class:te(e(le)("w-full caption-bottom text-sm",o.class))},[Z(i.$slots,"default")],2)]))}}),He=W({__name:"TableBody",props:{class:{}},setup(s){const o=s;return(i,v)=>(m(),h("tbody",{"data-slot":"table-body",class:te(e(le)("[&_tr:last-child]:border-0",o.class))},[Z(i.$slots,"default")],2))}}),dt=W({__name:"TableCaption",props:{class:{}},setup(s){const o=s;return(i,v)=>(m(),h("caption",{"data-slot":"table-caption",class:te(e(le)("text-muted-foreground mt-4 text-sm",o.class))},[Z(i.$slots,"default")],2))}}),G=W({__name:"TableCell",props:{class:{}},setup(s){const o=s;return(i,v)=>(m(),h("td",{"data-slot":"table-cell",class:te(e(le)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",o.class))},[Z(i.$slots,"default")],2))}}),_e=W({__name:"TableRow",props:{class:{}},setup(s){const o=s;return(i,v)=>(m(),h("tr",{"data-slot":"table-row",class:te(e(le)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",o.class))},[Z(i.$slots,"default")],2))}}),X=W({__name:"TableHead",props:{class:{}},setup(s){const o=s;return(i,v)=>(m(),h("th",{"data-slot":"table-head",class:te(e(le)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",o.class))},[Z(i.$slots,"default")],2))}}),Me=W({__name:"TableHeader",props:{class:{}},setup(s){const o=s;return(i,v)=>(m(),h("thead",{"data-slot":"table-header",class:te(e(le)("[&_tr]:border-b",o.class))},[Z(i.$slots,"default")],2))}});(function(){var s;try{if(typeof document<"u"){var o=document.createElement("style");o.nonce=(s=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:s.content,o.appendChild(document.createTextNode('[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32,.72,0,1);animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform, 100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform, 100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height, 0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height, 0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true]):after{content:"";position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]:after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]:after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]:after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]:after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:hover,[data-vaul-handle]:active{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover: hover) and (pointer: fine){[data-vaul-drawer]{-webkit-user-select:none;user-select:none}}@media (pointer: fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{0%{transform:translate3d(0,var(--initial-transform, 100%),0)}to{transform:translateZ(0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform, 100%),0)}}@keyframes slideFromTop{0%{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}to{transform:translateZ(0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}}@keyframes slideFromLeft{0%{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}to{transform:translateZ(0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}}@keyframes slideFromRight{0%{transform:translate3d(var(--initial-transform, 100%),0,0)}to{transform:translateZ(0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform, 100%),0,0)}}')),document.head.appendChild(o)}}catch(i){console.error("vite-plugin-css-injected-by-js",i)}})();const it=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ut=s=>typeof s<"u";function mt(s){return JSON.parse(JSON.stringify(s))}function la(s,o,i,v={}){var p,V,w;const{clone:C=!1,passive:k=!1,eventName:I,deep:L=!1,defaultValue:D,shouldEmit:g}=v,B=Ia(),P=i||B?.emit||((p=B?.$emit)==null?void 0:p.bind(B))||((w=(V=B?.proxy)==null?void 0:V.$emit)==null?void 0:w.bind(B?.proxy));let f=I;o||(o="modelValue"),f=f||`update:${o.toString()}`;const ne=b=>C?typeof C=="function"?C(b):mt(b):b,_=()=>ut(s[o])?ne(s[o]):D,u=b=>{g?g(b)&&P(f,b):P(f,b)};if(k){const b=_(),T=A(b);let S=!1;return we(()=>s[o],N=>{S||(S=!0,T.value=ne(N),oa(()=>S=!1))}),we(T,N=>{!S&&(N!==s[o]||L)&&u(N)},{deep:L}),T}else return oe({get(){return _()},set(b){u(b)}})}const[Ye,ft]=at("DrawerRoot"),ia=new WeakMap;function K(s,o,i=!1){if(!s||!(s instanceof HTMLElement)||!o)return;const v={};Object.entries(o).forEach(([p,V])=>{if(p.startsWith("--")){s.style.setProperty(p,V);return}v[p]=s.style[p],s.style[p]=V}),!i&&ia.set(s,v)}function pt(s,o){if(!s||!(s instanceof HTMLElement))return;const i=ia.get(s);i&&Object.entries(i).forEach(([v,p])=>{s.style[v]=p})}function Re(s,o){const i=window.getComputedStyle(s),v=i.transform||i.webkitTransform||i.mozTransform;let p=v.match(/^matrix3d\((.+)\)$/);return p?Number.parseFloat(p[1].split(", ")[j(o)?13:12]):(p=v.match(/^matrix\((.+)\)$/),p?Number.parseFloat(p[1].split(", ")[j(o)?5:4]):null)}function vt(s){return 8*(Math.log(s+1)-2)}function j(s){switch(s){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return s}}function Ge(s,o){if(!s)return()=>{};const i=s.style.cssText;return Object.assign(s.style,o),()=>{s.style.cssText=i}}function ct(...s){return(...o)=>{for(const i of s)typeof i=="function"&&i(...o)}}const z={DURATION:.5,EASE:[.32,.72,0,1]},ua=.4,gt=.25,_t=100,ma=8,Ee=16,fa=26,na="vaul-dragging";function bt({activeSnapPoint:s,snapPoints:o,drawerRef:i,overlayRef:v,fadeFromIndex:p,onSnapPointChange:V,direction:w}){const C=A(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);function k(){C.value={innerWidth:window.innerWidth,innerHeight:window.innerHeight}}sa(()=>{typeof window<"u"&&window.addEventListener("resize",k)}),La(()=>{typeof window<"u"&&window.removeEventListener("resize",k)});const I=oe(()=>(o.value&&s.value===o.value[o.value.length-1])??null),L=oe(()=>o.value&&o.value.length>0&&(p?.value||p?.value===0)&&!Number.isNaN(p?.value)&&o.value[p?.value??-1]===s.value||!o.value),D=oe(()=>{var u;return((u=o.value)==null?void 0:u.findIndex(b=>b===s.value))??null}),g=oe(()=>{var u;return((u=o.value)==null?void 0:u.map(b=>{const T=typeof b=="string";let S=0;if(T&&(S=Number.parseInt(b,10)),j(w.value)){const F=T?S:C.value?b*C.value.innerHeight:0;return C.value?w.value==="bottom"?C.value.innerHeight-F:-C.value.innerHeight+F:F}const N=T?S:C.value?b*C.value.innerWidth:0;return C.value?w.value==="right"?C.value.innerWidth-N:-C.value.innerWidth+N:N}))??[]}),B=oe(()=>{var u;return D.value!==null?(u=g.value)==null?void 0:u[D.value]:null}),P=u=>{var b,T,S,N;const F=((b=g.value)==null?void 0:b.findIndex(Q=>Q===u))??null;oa(()=>{var Q;V(F,g.value),K((Q=i.value)==null?void 0:Q.$el,{transition:`transform ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,transform:j(w.value)?`translate3d(0, ${u}px, 0)`:`translate3d(${u}px, 0, 0)`})}),g.value&&F!==g.value.length-1&&F!==p?.value?K((T=v.value)==null?void 0:T.$el,{transition:`opacity ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,opacity:"0"}):K((S=v.value)==null?void 0:S.$el,{transition:`opacity ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,opacity:"1"}),s.value=F!==null?((N=o.value)==null?void 0:N[F])??null:null};we([s,g,o],()=>{var u;if(s.value){const b=((u=o.value)==null?void 0:u.findIndex(T=>T===s.value))??-1;g.value&&b!==-1&&typeof g.value[b]=="number"&&P(g.value[b])}},{immediate:!0});function f({draggedDistance:u,closeDrawer:b,velocity:T,dismissible:S}){var N,F,Q;if(p.value===void 0)return;const ue=w.value==="bottom"||w.value==="right"?(B.value??0)-u:(B.value??0)+u,De=D.value===p.value-1,be=D.value===0,me=u>0;if(De&&K((N=v.value)==null?void 0:N.$el,{transition:`opacity ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`}),T>2&&!me){S?b():P(g.value[0]);return}if(T>2&&me&&g&&o.value){P(g.value[o.value.length-1]);return}const xe=(F=g.value)==null?void 0:F.reduce((re,$)=>typeof re!="number"||typeof $!="number"?re:Math.abs($-ue)<Math.abs(re-ue)?$:re),ye=j(w.value)?window.innerHeight:window.innerWidth;if(T>ua&&Math.abs(u)<ye*.4){const re=me?1:-1;if(re>0&&I){P(g.value[(((Q=o.value)==null?void 0:Q.length)??0)-1]);return}if(be&&re<0&&S&&b(),D.value===null)return;P(g.value[D.value+re]);return}P(xe)}function ne({draggedDistance:u}){var b;if(B.value===null)return;const T=w.value==="bottom"||w.value==="right"?B.value-u:B.value+u;(w.value==="bottom"||w.value==="right")&&T<g.value[g.value.length-1]||(w.value==="top"||w.value==="left")&&T>g.value[g.value.length-1]||K((b=i.value)==null?void 0:b.$el,{transform:j(w.value)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`})}function _(u,b){if(!o.value||typeof D.value!="number"||!g.value||p.value===void 0)return null;const T=D.value===p.value-1;if(D.value>=p.value&&b)return 0;if(T&&!b)return 1;if(!L.value&&!T)return null;const S=T?D.value+1:D.value-1,N=T?g.value[S]-g.value[S-1]:g.value[S+1]-g.value[S],F=u/Math.abs(N);return T?1-F:F}return{isLastSnapPoint:I,shouldFade:L,getPercentageDragged:_,activeSnapPointIndex:D,onRelease:f,onDrag:ne,snapPointsOffset:g}}function ra(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}let Oe=null;function yt(s){const{isOpen:o,modal:i,nested:v,hasBeenOpened:p,preventScrollRestoration:V,noBodyStyles:w}=s,C=A(typeof window<"u"?window.location.href:""),k=A(0);function I(){if(ra()&&Oe===null&&o.value&&!w.value){Oe={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:D,innerHeight:g}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-k.value}px`,left:`${-D}px`,right:"0px",height:"auto"}),setTimeout(()=>{requestAnimationFrame(()=>{const B=g-window.innerHeight;B&&k.value>=g&&(document.body.style.top=`-${k.value+B}px`)})},300)}}function L(){if(ra()&&Oe!==null&&!w.value){const D=-Number.parseInt(document.body.style.top,10),g=-Number.parseInt(document.body.style.left,10);Object.assign(document.body.style,Oe),window.requestAnimationFrame(()=>{if(V.value&&C.value!==window.location.href){C.value=window.location.href;return}window.scrollTo(g,D)}),Oe=null}}return sa(()=>{function D(){k.value=window.scrollY}D(),window.addEventListener("scroll",D),za(()=>{window.removeEventListener("scroll",D)})}),we([o,p,C],()=>{v.value||!p.value||(o.value?(window.matchMedia("(display-mode: standalone)").matches||I(),i.value||setTimeout(()=>{L()},500)):L())}),{restorePositionSetting:L}}function wt(s,o){return s&&s.value?s:o}function xt(s){const{emitDrag:o,emitRelease:i,emitClose:v,emitOpenChange:p,open:V,dismissible:w,nested:C,modal:k,shouldScaleBackground:I,setBackgroundColorOnScale:L,scrollLockTimeout:D,closeThreshold:g,activeSnapPoint:B,fadeFromIndex:P,direction:f,noBodyStyles:ne,handleOnly:_,preventScrollRestoration:u}=s,b=A(V.value??!1),T=A(!1),S=A(!1),N=A(!1),F=A(null),Q=A(null),ue=A(null),De=A(null),be=A(null),me=A(!1),xe=A(null),ye=A(0),re=A(!1);A(0);const $=A(null);A(0);const Ve=oe(()=>{var y;return((y=$.value)==null?void 0:y.$el.getBoundingClientRect().height)||0}),O=wt(s.snapPoints,A(void 0)),a=oe(()=>{var y;return O&&(((y=O.value)==null?void 0:y.length)??0)>0}),n=A(null),{activeSnapPointIndex:se,onRelease:Ae,snapPointsOffset:pa,onDrag:va,shouldFade:Ke,getPercentageDragged:ca}=bt({snapPoints:O,activeSnapPoint:B,drawerRef:$,fadeFromIndex:P,overlayRef:F,onSnapPointChange:ga,direction:f});function ga(y,H){O.value&&y===H.length-1&&(Q.value=new Date)}yt({isOpen:b,modal:k,nested:C,hasBeenOpened:T,noBodyStyles:ne,preventScrollRestoration:u});function Pe(){return(window.innerWidth-fa)/window.innerWidth}function Je(y,H){var q;if(!y)return!1;let R=y;const J=(q=window.getSelection())==null?void 0:q.toString(),ee=$.value?Re($.value.$el,f.value):null,de=new Date;if(R.hasAttribute("data-vaul-no-drag")||R.closest("[data-vaul-no-drag]"))return!1;if(f.value==="right"||f.value==="left")return!0;if(Q.value&&de.getTime()-Q.value.getTime()<500)return!1;if(ee!==null&&(f.value==="bottom"?ee>0:ee<0))return!0;if(J&&J.length>0)return!1;if(be.value&&de.getTime()-be.value.getTime()<D.value&&ee===0||H)return be.value=de,!1;for(;R;){if(R.scrollHeight>R.clientHeight){if(R.scrollTop!==0)return be.value=new Date,!1;if(R.getAttribute("role")==="dialog")return!0}R=R.parentNode}return!0}function _a(y){!w.value&&!O.value||$.value&&!$.value.$el.contains(y.target)||(S.value=!0,ue.value=new Date,y.target.setPointerCapture(y.pointerId),ye.value=j(f.value)?y.clientY:y.clientX)}function ba(y){var H,q,R,J,ee,de;if($.value&&S.value){const Te=f.value==="bottom"||f.value==="right"?1:-1,Be=(ye.value-(j(f.value)?y.clientY:y.clientX))*Te,Ne=Be>0,Ze=O.value&&!w.value&&!Ne;if(Ze&&se.value===0)return;const Ue=Math.abs(Be),Qe=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");let he=Ue/Ve.value;const ea=ca(Ue,Ne);if(ea!==null&&(he=ea),Ze&&he>=1||!me.value&&!Je(y.target,Ne))return;if((H=$?.value)==null||H.$el.classList.add(na),me.value=!0,K((q=$.value)==null?void 0:q.$el,{transition:"none"}),K((R=F.value)==null?void 0:R.$el,{transition:"none"}),O.value&&va({draggedDistance:Be}),Ne&&!O.value){const $e=vt(Be),Fe=Math.min($e*-1,0)*Te;K((J=$.value)==null?void 0:J.$el,{transform:j(f.value)?`translate3d(0, ${Fe}px, 0)`:`translate3d(${Fe}px, 0, 0)`});return}const $a=1-he;if((Ke.value||P.value&&se.value===P.value-1)&&(o(he),K((ee=F.value)==null?void 0:ee.$el,{opacity:`${$a}`,transition:"none"},!0)),Qe&&F.value&&I.value){const $e=Math.min(Pe()+he*(1-Pe()),1),Fe=8-he*8,aa=Math.max(0,14-he*14);K(Qe,{borderRadius:`${Fe}px`,transform:j(f.value)?`scale(${$e}) translate3d(0, ${aa}px, 0)`:`scale(${$e}) translate3d(${aa}px, 0, 0)`,transition:"none"},!0)}if(!O.value){const $e=Ue*Te;K((de=$.value)==null?void 0:de.$el,{transform:j(f.value)?`translate3d(0, ${$e}px, 0)`:`translate3d(${$e}px, 0, 0)`})}}}function Xe(){var y;if(!$.value)return;const H=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]"),q=Re($.value.$el,f.value);K($.value.$el,{transform:"translate3d(0, 0, 0)",transition:`transform ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`}),K((y=F.value)==null?void 0:y.$el,{transition:`opacity ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,opacity:"1"}),I.value&&q&&q>0&&b.value&&K(H,{borderRadius:`${ma}px`,overflow:"hidden",...j(f.value)?{transform:`scale(${Pe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Pe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${z.DURATION}s`,transitionTimingFunction:`cubic-bezier(${z.EASE.join(",")})`},!0)}function Ce(y){$.value&&(v(),y||(b.value=!1),window.setTimeout(()=>{O.value&&(B.value=O.value[0])},z.DURATION*1e3))}je(()=>{if(!b.value&&I.value&&it){const y=setTimeout(()=>{pt(document.body)},200);return()=>clearTimeout(y)}}),we(V,()=>{b.value=V.value,V.value||Ce()});function ya(y){if(!S.value||!$.value)return;$.value.$el.classList.remove(na),me.value=!1,S.value=!1,De.value=new Date;const H=Re($.value.$el,f.value);if(!Je(y.target,!1)||!H||Number.isNaN(H)||ue.value===null)return;const q=De.value.getTime()-ue.value.getTime(),R=ye.value-(j(f.value)?y.clientY:y.clientX),J=Math.abs(R)/q;if(J>.05&&(N.value=!0,window.setTimeout(()=>{N.value=!1},200)),O.value){const de=f.value==="bottom"||f.value==="right"?1:-1;Ae({draggedDistance:R*de,closeDrawer:Ce,velocity:J,dismissible:w.value}),i(!0);return}if(f.value==="bottom"||f.value==="right"?R>0:R<0){Xe(),i(!0);return}if(J>ua){Ce(),i(!1);return}const ee=Math.min($.value.$el.getBoundingClientRect().height??0,window.innerHeight);if(H>=ee*g.value){Ce(),i(!1);return}i(!0),Xe()}we(b,y=>{y&&(Q.value=new Date),p(y)},{immediate:!0});function wa(y){var H,q;const R=y?(window.innerWidth-Ee)/window.innerWidth:1,J=y?-16:0;xe.value&&window.clearTimeout(xe.value),K((H=$.value)==null?void 0:H.$el,{transition:`transform ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,transform:`scale(${R}) translate3d(0, ${J}px, 0)`}),!y&&(q=$.value)!=null&&q.$el&&(xe.value=window.setTimeout(()=>{var ee,de;const Te=Re((ee=$.value)==null?void 0:ee.$el,f.value);K((de=$.value)==null?void 0:de.$el,{transition:"none",transform:j(f.value)?`translate3d(0, ${Te}px, 0)`:`translate3d(${Te}px, 0, 0)`})},500))}function xa(y){var H;if(y<0)return;const q=j(f.value)?window.innerHeight:window.innerWidth,R=(q-Ee)/q,J=R+y*(1-R),ee=-16+y*Ee;K((H=$.value)==null?void 0:H.$el,{transform:j(f.value)?`scale(${J}) translate3d(0, ${ee}px, 0)`:`scale(${J}) translate3d(${ee}px, 0, 0)`,transition:"none"})}function ha(y){var H;const q=j(f.value)?window.innerHeight:window.innerWidth,R=y?(q-Ee)/q:1,J=y?-16:0;y&&K((H=$.value)==null?void 0:H.$el,{transition:`transform ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,transform:j(f.value)?`scale(${R}) translate3d(0, ${J}px, 0)`:`scale(${R}) translate3d(${J}px, 0, 0)`})}return{open:V,isOpen:b,modal:k,keyboardIsOpen:re,hasBeenOpened:T,drawerRef:$,drawerHeightRef:Ve,overlayRef:F,handleRef:n,isDragging:S,dragStartTime:ue,isAllowedToDrag:me,snapPoints:O,activeSnapPoint:B,hasSnapPoints:a,pointerStart:ye,dismissible:w,snapPointsOffset:pa,direction:f,shouldFade:Ke,fadeFromIndex:P,shouldScaleBackground:I,setBackgroundColorOnScale:L,onPress:_a,onDrag:ba,onRelease:ya,closeDrawer:Ce,onNestedDrag:xa,onNestedRelease:ha,onNestedOpenChange:wa,emitClose:v,emitDrag:o,emitRelease:i,emitOpenChange:p,nested:C,handleOnly:_,noBodyStyles:ne}}const ht=W({__name:"DrawerRoot",props:{activeSnapPoint:{default:void 0},closeThreshold:{default:gt},shouldScaleBackground:{type:Boolean,default:void 0},setBackgroundColorOnScale:{type:Boolean,default:!0},scrollLockTimeout:{default:_t},fixed:{type:Boolean,default:void 0},dismissible:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},nested:{type:Boolean,default:!1},direction:{default:"bottom"},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean,default:!1},preventScrollRestoration:{type:Boolean},snapPoints:{default:void 0},fadeFromIndex:{default:void 0}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(s,{expose:o,emit:i}){const v=s,p=i;Ea();const V=oe(()=>v.fadeFromIndex??(v.snapPoints&&v.snapPoints.length-1)),w=la(v,"open",p,{defaultValue:v.defaultOpen,passive:v.open===void 0}),C=la(v,"activeSnapPoint",p,{passive:v.activeSnapPoint===void 0}),k={emitDrag:P=>p("drag",P),emitRelease:P=>p("release",P),emitClose:()=>p("close"),emitOpenChange:P=>{p("update:open",P),setTimeout(()=>{p("animationEnd",P)},z.DURATION*1e3)}},{closeDrawer:I,hasBeenOpened:L,modal:D,isOpen:g}=ft(xt({...k,...Ua(v),activeSnapPoint:C,fadeFromIndex:V,open:w}));function B(P){if(w.value!==void 0){k.emitOpenChange(P);return}g.value=P,P?L.value=!0:I()}return o({open:g}),(P,f)=>(m(),x(e(Da),{open:e(g),modal:e(D),"onUpdate:open":B},{default:t(()=>[Z(P.$slots,"default",{open:e(g)})]),_:3},8,["open","modal"]))}}),$t=W({__name:"DrawerOverlay",setup(s){const{overlayRef:o,hasSnapPoints:i,isOpen:v,shouldFade:p}=Ye();return(V,w)=>(m(),x(e(ka),{ref_key:"overlayRef",ref:o,"data-vaul-overlay":"","data-vaul-snap-points":e(v)&&e(i)?"true":"false","data-vaul-snap-points-overlay":e(v)&&e(p)?"true":"false"},null,8,["data-vaul-snap-points","data-vaul-snap-points-overlay"]))}}),kt=()=>()=>{};function St(){const{direction:s,isOpen:o,shouldScaleBackground:i,setBackgroundColorOnScale:v,noBodyStyles:p}=Ye(),V=A(null),w=A(document.body.style.backgroundColor);function C(){return(window.innerWidth-fa)/window.innerWidth}je(k=>{if(o.value&&i.value){V.value&&clearTimeout(V.value);const I=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!I)return;ct(v.value&&!p.value?Ge(document.body,{background:"black"}):kt,Ge(I,{transformOrigin:j(s.value)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${z.DURATION}s`,transitionTimingFunction:`cubic-bezier(${z.EASE.join(",")})`}));const L=Ge(I,{borderRadius:`${ma}px`,overflow:"hidden",...j(s.value)?{transform:`scale(${C()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${C()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});k(()=>{L(),V.value=window.setTimeout(()=>{w.value?document.body.style.background=w.value:document.body.style.removeProperty("background")},z.DURATION*1e3)})}},{flush:"pre"})}const Dt=W({__name:"DrawerContent",setup(s){const{open:o,isOpen:i,snapPointsOffset:v,hasSnapPoints:p,drawerRef:V,onPress:w,onDrag:C,onRelease:k,modal:I,emitOpenChange:L,dismissible:D,keyboardIsOpen:g,closeDrawer:B,direction:P,handleOnly:f}=Ye();St();const ne=A(!1),_=oe(()=>v.value&&v.value.length>0?`${v.value[0]}px`:"0");function u(S){if(!I.value||S.defaultPrevented){S.preventDefault();return}g.value&&(g.value=!1),D.value?L(!1):S.preventDefault()}function b(S){f.value||w(S)}function T(S){f.value||C(S)}return je(()=>{p.value&&window.requestAnimationFrame(()=>{ne.value=!0})}),(S,N)=>(m(),x(e(Sa),{ref_key:"drawerRef",ref:V,"data-vaul-drawer":"","data-vaul-drawer-direction":e(P),"data-vaul-delayed-snap-points":ne.value?"true":"false","data-vaul-snap-points":e(i)&&e(p)?"true":"false",style:Ra({"--snap-point-height":_.value}),onPointerdown:b,onPointermove:T,onPointerup:e(k),onPointerDownOutside:u,onOpenAutoFocus:N[0]||(N[0]=Fa(()=>{},["prevent"])),onEscapeKeyDown:N[1]||(N[1]=F=>{e(D)||F.preventDefault()})},{default:t(()=>[Z(S.$slots,"default")]),_:3},8,["data-vaul-drawer-direction","data-vaul-delayed-snap-points","data-vaul-snap-points","style","onPointerup"]))}}),Tt=W({__name:"Drawer",props:{activeSnapPoint:{},closeThreshold:{},shouldScaleBackground:{type:Boolean,default:!0},setBackgroundColorOnScale:{type:Boolean},scrollLockTimeout:{},fixed:{type:Boolean},dismissible:{type:Boolean},modal:{type:Boolean},open:{type:Boolean},defaultOpen:{type:Boolean},nested:{type:Boolean},direction:{},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean},preventScrollRestoration:{type:Boolean},snapPoints:{},fadeFromIndex:{}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(s,{emit:o}){const p=da(s,o);return(V,w)=>(m(),x(e(ht),Se({"data-slot":"drawer"},e(p)),{default:t(C=>[Z(V.$slots,"default",Ha(Ma(C)))]),_:3},16))}}),Vt=W({__name:"DrawerClose",props:{asChild:{type:Boolean},as:{}},setup(s){const o=s;return(i,v)=>(m(),x(e(Ta),Se({"data-slot":"drawer-close"},o),{default:t(()=>[Z(i.$slots,"default")]),_:3},16))}}),Ct=W({__name:"DrawerOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(s){const o=s,i=We(o,"class");return(v,p)=>(m(),x(e($t),Se({"data-slot":"drawer-overlay"},e(i),{class:e(le)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",o.class)}),null,16,["class"]))}}),Ot=W({inheritAttrs:!1,__name:"DrawerContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:o}){const i=s,p=da(i,o);return(V,w)=>(m(),x(e(Va),null,{default:t(()=>[l(Ct),l(e(Dt),Se({"data-slot":"drawer-content"},{...V.$attrs,...e(p)},{class:e(le)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:sm:max-w-sm",i.class)}),{default:t(()=>[w[0]||(w[0]=r("div",{class:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"},null,-1)),Z(V.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),At=W({__name:"DrawerDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(s){const o=s,i=We(o,"class");return(v,p)=>(m(),x(e(Ca),Se({"data-slot":"drawer-description"},e(i),{class:e(le)("text-muted-foreground text-sm",o.class)}),{default:t(()=>[Z(v.$slots,"default")]),_:3},16,["class"]))}}),Pt=W({__name:"DrawerFooter",props:{class:{}},setup(s){const o=s;return(i,v)=>(m(),h("div",{"data-slot":"drawer-footer",class:te(e(le)("mt-auto flex flex-col gap-2 p-4",o.class))},[Z(i.$slots,"default")],2))}}),Bt=W({__name:"DrawerHeader",props:{class:{}},setup(s){const o=s;return(i,v)=>(m(),h("div",{"data-slot":"drawer-header",class:te(e(le)("flex flex-col gap-1.5 p-4",o.class))},[Z(i.$slots,"default")],2))}}),Nt=W({__name:"DrawerTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(s){const o=s,i=We(o,"class");return(v,p)=>(m(),x(e(Oa),Se({"data-slot":"drawer-title"},e(i),{class:e(le)("text-foreground font-semibold",o.class)}),{default:t(()=>[Z(v.$slots,"default")]),_:3},16,["class"]))}}),Ft=W({__name:"DrawerTrigger",props:{asChild:{type:Boolean},as:{}},setup(s){const o=s;return(i,v)=>(m(),x(e(Qa),Se({"data-slot":"drawer-trigger"},o),{default:t(()=>[Z(i.$slots,"default")]),_:3},16))}}),Rt={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},Et={class:"grid auto-rows-min gap-4 md:grid-cols-3"},Ut={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},It={class:"text-2xl font-bold"},Lt={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},zt={class:"text-2xl font-bold"},Ht={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},Mt={class:"text-2xl font-bold"},Gt={class:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 bg-white md:min-h-min dark:border-sidebar-border dark:bg-sidebar"},jt={class:"p-6"},Wt={class:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},qt={class:"flex flex-wrap gap-2"},Yt={class:"mb-4 space-y-4 rounded-lg border bg-muted/50 p-4"},Kt={class:"flex items-center justify-between"},Jt={class:"flex items-center gap-2"},Xt={key:0,class:"rounded-full bg-primary px-2 py-0.5 text-xs text-primary-foreground"},Zt={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},Qt={class:"space-y-2"},el={class:"space-y-2"},al={class:"space-y-2"},tl={class:"space-y-2"},ll={class:"flex flex-col items-center gap-2 text-muted-foreground"},nl={key:1},rl={class:"flex items-center justify-end gap-2"},ol={class:"grid gap-4 py-4"},sl={class:"grid gap-2"},dl={key:0,class:"text-sm text-red-600"},il={class:"grid gap-4 sm:grid-cols-3"},ul={class:"grid gap-2"},ml={key:0,class:"text-sm text-red-600"},fl={class:"grid gap-2"},pl={class:"grid gap-2"},vl={key:0,class:"text-sm text-red-600"},cl={class:"grid gap-4 sm:grid-cols-2"},gl={class:"grid gap-2"},_l={key:0,class:"text-sm text-red-600"},bl={class:"grid gap-2"},yl={key:0,class:"text-sm text-red-600"},wl={class:"border-t pt-4"},xl={class:"grid gap-4"},hl={class:"grid gap-4 sm:grid-cols-2"},$l={class:"grid gap-2"},kl={key:0,class:"text-sm text-red-600"},Sl={class:"grid gap-2"},Dl={key:0,class:"text-sm text-red-600"},Tl={class:"grid gap-4 sm:grid-cols-2"},Vl={class:"grid gap-2"},Cl={key:0,class:"text-sm text-red-600"},Ol={class:"grid gap-2"},Al={key:0,class:"text-sm text-red-600"},Pl={class:"grid gap-4 py-4"},Bl={class:"grid gap-2"},Nl={key:0,class:"text-sm text-red-600"},Fl={class:"grid gap-4 sm:grid-cols-3"},Rl={class:"grid gap-2"},El={key:0,class:"text-sm text-red-600"},Ul={class:"grid gap-2"},Il={class:"grid gap-2"},Ll={key:0,class:"text-sm text-red-600"},zl={class:"grid gap-4 sm:grid-cols-2"},Hl={class:"grid gap-2"},Ml={key:0,class:"text-sm text-red-600"},Gl={class:"grid gap-2"},jl={key:0,class:"text-sm text-red-600"},Wl={class:"border-t pt-4"},ql={class:"grid gap-4"},Yl={class:"grid gap-4 sm:grid-cols-2"},Kl={class:"grid gap-2"},Jl={key:0,class:"text-sm text-red-600"},Xl={class:"grid gap-2"},Zl={key:0,class:"text-sm text-red-600"},Ql={class:"grid gap-4 sm:grid-cols-2"},en={class:"grid gap-2"},an={key:0,class:"text-sm text-red-600"},tn={class:"grid gap-2"},ln={key:0,class:"text-sm text-red-600"},nn={key:0,class:"py-12 text-center"},rn={key:1,class:"space-y-6 py-4"},on={class:"rounded-lg border p-4"},sn={class:"grid gap-3 sm:grid-cols-2"},dn={class:"font-medium"},un={class:"font-medium"},mn={class:"font-medium"},fn={class:"font-medium"},pn={class:"text-sm text-muted-foreground"},vn={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},cn={class:"rounded-lg border bg-blue-50 p-4 dark:bg-blue-950"},gn={class:"text-2xl font-bold"},_n={class:"rounded-lg border bg-red-50 p-4 dark:bg-red-950"},bn={class:"text-2xl font-bold"},yn={class:"rounded-lg border bg-green-50 p-4 dark:bg-green-950"},wn={class:"text-2xl font-bold"},xn={class:"rounded-lg border bg-purple-50 p-4 dark:bg-purple-950"},hn={class:"text-2xl font-bold"},$n={class:"rounded-lg border"},kn={class:"overflow-x-auto"},Sn={class:"rounded-lg border"},Dn={class:"overflow-x-auto"},Yn=W({__name:"Index",props:{students:{},grades:{},filters:{},academicYears:{}},setup(s){const o=ja("(min-width: 640px)"),i=oe(()=>({Root:o.value?Ja:Tt,Trigger:o.value?et:Ft,Content:o.value?Ka:Ot,Header:o.value?Ya:Bt,Title:o.value?qa:Nt,Description:o.value?Wa:At,Footer:o.value?Za:Pt,Close:o.value?Xa:Vt})),v=A(!1),p=A(!1),V=A(!1),w=A(null),C=A(null),k=A(null),I=A(!1),L=A(!1),D=s,g=D.students||[],B=(D.grades||[]).filter(O=>O&&O.id),P=D.academicYears||[],f=Ie({grade:D.filters?.grade||"all",academic_year:D.filters?.academic_year||"all",status:D.filters?.status||"all",search:D.filters?.search||""}),ne=[{title:"Dashboard",href:Na().url},{title:"Students",href:Aa.index().url}],_=Ie({adm_no:"",first_name:"",middle_name:"",last_name:"",gender:"",grade_id:"",guardian_first_name:"",guardian_last_name:"",guardian_phone:"",guardian_gender:""}),u=Ie({adm_no:"",first_name:"",middle_name:"",last_name:"",gender:"",grade_id:"",guardian_first_name:"",guardian_last_name:"",guardian_phone:"",guardian_gender:""});we(()=>[f.grade,f.academic_year,f.status],()=>{T()},{deep:!0});let b=null;we(()=>f.search,O=>{clearTimeout(b),b=setTimeout(()=>{T()},500)});const T=()=>{Le.get("/students",{grade:f.grade!=="all"?f.grade:void 0,academic_year:f.academic_year!=="all"?f.academic_year:void 0,status:f.status!=="all"?f.status:void 0,search:f.search||void 0},{preserveState:!1,preserveScroll:!0,only:["students","filters"]})},S=()=>{f.grade="all",f.academic_year="all",f.status="all",f.search="",Le.get("/students")},N=oe(()=>f.grade!=="all"||f.academic_year!=="all"||f.status!=="all"||f.search!==""),F=async()=>{if(!L.value){L.value=!0;try{const O=new URLSearchParams({grade:f.grade!=="all"?f.grade:"",academic_year:f.academic_year!=="all"?f.academic_year:"",status:f.status!=="all"?f.status:"",search:f.search||""}),a=await ta.get(`/students/export/pdf?${O.toString()}`,{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([a.data])),se=document.createElement("a");se.href=n,se.setAttribute("download",`students-report-${new Date().toISOString().split("T")[0]}.pdf`),document.body.appendChild(se),se.click(),se.remove(),window.URL.revokeObjectURL(n)}catch(O){console.error("Error exporting PDF:",O),alert("Failed to export PDF. Please try again.")}finally{L.value=!1}}},Q=()=>{_.reset()},ue=()=>{u.reset()},De=O=>{const a=g.find(n=>n.id===O);a&&(w.value=a.id,u.adm_no=a.adm_no,u.first_name=a.first_name,u.middle_name=a.middle_name||"",u.last_name=a.last_name,u.gender=a.gender||"",u.grade_id=a.grade?.id?.toString()||"",u.guardian_first_name=a.guardian?.first_name||"",u.guardian_last_name=a.guardian?.last_name||"",u.guardian_phone=a.guardian?.phone_number||"",u.guardian_gender=a.guardian?.gender||"",p.value=!0)},be=async O=>{C.value=O,I.value=!0,V.value=!0;try{const a=await ta.get(`/students/${O}`);k.value=a.data}catch(a){console.error("Error fetching student details:",a),alert("Failed to load student details"),V.value=!1}finally{I.value=!1}},me=O=>{confirm("Are you sure you want to delete this student?")&&Le.delete(`/students/${O}`)},xe=()=>{Q(),v.value=!0},ye=()=>{_.post("/students",{onSuccess:()=>{v.value=!1,Q()}})},re=()=>{w.value&&u.put(`/students/${w.value}`,{onSuccess:()=>{p.value=!1,ue()}})},$=O=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(O),Ve=O=>new Date(O).toLocaleDateString("en-KE",{year:"numeric",month:"short",day:"numeric"});return(O,a)=>(m(),h(fe,null,[l(e(Ga),{title:"Students"}),l(Ba,{breadcrumbs:ne},{default:t(()=>[r("div",Rt,[r("div",Et,[r("div",Ut,[a[31]||(a[31]=r("div",{class:"text-sm font-medium text-muted-foreground"},"Total Students",-1)),r("div",It,c(e(g).length),1)]),r("div",Lt,[a[32]||(a[32]=r("div",{class:"text-sm font-medium text-muted-foreground"},"Active Grades",-1)),r("div",zt,c(e(B).length),1)]),r("div",Ht,[a[33]||(a[33]=r("div",{class:"text-sm font-medium text-muted-foreground"},"Guardians",-1)),r("div",Mt,c(new Set(e(g).map(n=>n.guardian?.id)).size),1)])]),r("div",Gt,[r("div",jt,[r("div",Wt,[a[34]||(a[34]=r("h2",{class:"text-xl font-semibold"},"Students",-1)),r("div",qt,[l(e(ie),{variant:"outline",size:"sm",onClick:F,disabled:L.value||e(g).length===0,class:"gap-2"},{default:t(()=>[l(e(rt),{class:"h-4 w-4"}),d(" "+c(L.value?"Exporting...":"Export PDF"),1)]),_:1},8,["disabled"]),r("button",{onClick:xe,class:"rounded-lg bg-black px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200"}," + Add Student ")])]),r("div",Yt,[r("div",Kt,[r("div",Jt,[l(e(tt),{class:"h-4 w-4 text-muted-foreground"}),a[35]||(a[35]=r("span",{class:"text-sm font-medium"},"Filters",-1)),N.value?(m(),h("span",Xt," Active ")):E("",!0)]),N.value?(m(),x(e(ie),{key:0,variant:"ghost",size:"sm",onClick:S,class:"h-8 gap-1"},{default:t(()=>[l(e(Pa),{class:"h-3 w-3"}),a[36]||(a[36]=d(" Clear ",-1))]),_:1})):E("",!0)]),r("div",Zt,[r("div",Qt,[l(e(U),{for:"search",class:"text-xs"},{default:t(()=>[...a[37]||(a[37]=[d("Search",-1)])]),_:1}),l(e(ae),{id:"search",modelValue:e(f).search,"onUpdate:modelValue":a[0]||(a[0]=n=>e(f).search=n),placeholder:"Name or Adm No...",class:"h-9"},null,8,["modelValue"])]),r("div",el,[l(e(U),{for:"filter_grade",class:"text-xs"},{default:t(()=>[...a[38]||(a[38]=[d("Grade",-1)])]),_:1}),l(e(pe),{modelValue:e(f).grade,"onUpdate:modelValue":a[1]||(a[1]=n=>e(f).grade=n)},{default:t(()=>[l(e(ve),{class:"h-9"},{default:t(()=>[l(e(ce),{placeholder:"All Grades"})]),_:1}),l(e(ge),null,{default:t(()=>[l(e(Y),{value:"all"},{default:t(()=>[...a[39]||(a[39]=[d("All Grades",-1)])]),_:1}),(m(!0),h(fe,null,ke(e(B),n=>(m(),x(e(Y),{key:n.id,value:String(n.id)},{default:t(()=>[d(c(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",al,[l(e(U),{for:"filter_year",class:"text-xs"},{default:t(()=>[...a[40]||(a[40]=[d("Academic Year",-1)])]),_:1}),l(e(pe),{modelValue:e(f).academic_year,"onUpdate:modelValue":a[2]||(a[2]=n=>e(f).academic_year=n)},{default:t(()=>[l(e(ve),{class:"h-9"},{default:t(()=>[l(e(ce),{placeholder:"All Years"})]),_:1}),l(e(ge),null,{default:t(()=>[l(e(Y),{value:"all"},{default:t(()=>[...a[41]||(a[41]=[d("All Years",-1)])]),_:1}),(m(!0),h(fe,null,ke(e(P),n=>(m(),x(e(Y),{key:n,value:n},{default:t(()=>[d(c(n),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",tl,[l(e(U),{for:"filter_status",class:"text-xs"},{default:t(()=>[...a[42]||(a[42]=[d("Status",-1)])]),_:1}),l(e(pe),{modelValue:e(f).status,"onUpdate:modelValue":a[3]||(a[3]=n=>e(f).status=n)},{default:t(()=>[l(e(ve),{class:"h-9"},{default:t(()=>[l(e(ce),{placeholder:"All Status"})]),_:1}),l(e(ge),null,{default:t(()=>[l(e(Y),{value:"all"},{default:t(()=>[...a[43]||(a[43]=[d("All Status",-1)])]),_:1}),l(e(Y),{value:"active"},{default:t(()=>[...a[44]||(a[44]=[d("Active",-1)])]),_:1}),l(e(Y),{value:"graduated"},{default:t(()=>[...a[45]||(a[45]=[d("Graduated",-1)])]),_:1}),l(e(Y),{value:"transferred"},{default:t(()=>[...a[46]||(a[46]=[d("Transferred",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),l(e(ze),null,{default:t(()=>[l(e(dt),null,{default:t(()=>[d(c(e(g).length)+" student(s) found ",1),N.value?(m(),h(fe,{key:0},[d(" (filtered)")],64)):E("",!0)]),_:1}),l(e(Me),null,{default:t(()=>[l(e(_e),null,{default:t(()=>[l(e(X),null,{default:t(()=>[...a[47]||(a[47]=[d("#",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[48]||(a[48]=[d("Adm No",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[49]||(a[49]=[d("Name",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[50]||(a[50]=[d("Academic Year",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[51]||(a[51]=[d("Grade",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[52]||(a[52]=[d("Status",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[53]||(a[53]=[d("Phone",-1)])]),_:1}),l(e(X),{class:"text-right"},{default:t(()=>[...a[54]||(a[54]=[d("Actions",-1)])]),_:1})]),_:1})]),_:1}),l(e(He),null,{default:t(()=>[e(g).length===0?(m(),x(e(_e),{key:0},{default:t(()=>[l(e(G),{colspan:"8",class:"h-24 text-center"},{default:t(()=>[r("div",ll,[N.value?(m(),h(fe,{key:0},[a[56]||(a[56]=r("p",null,"No students match your filters",-1)),l(e(ie),{variant:"link",size:"sm",onClick:S},{default:t(()=>[...a[55]||(a[55]=[d(" Clear filters ",-1)])]),_:1})],64)):(m(),h("p",nl,"No students found. Add your first student to get started."))])]),_:1})]),_:1})):E("",!0),(m(!0),h(fe,null,ke(e(g),(n,se)=>(m(),x(e(_e),{key:n.id,class:te(["hover:bg-gray-50 dark:hover:bg-sidebar-accent",{"bg-muted/50":se%2===0}])},{default:t(()=>[l(e(G),{class:"font-medium"},{default:t(()=>[d(c(se+1),1)]),_:2},1024),l(e(G),{class:"font-medium"},{default:t(()=>[d(c(n.adm_no),1)]),_:2},1024),l(e(G),null,{default:t(()=>[d(c(n.first_name)+" "+c(n.middle_name)+" "+c(n.last_name),1)]),_:2},1024),l(e(G),null,{default:t(()=>[d(c(n.academic_year),1)]),_:2},1024),l(e(G),null,{default:t(()=>[d(c(n.grade?.name||"N/A"),1)]),_:2},1024),l(e(G),null,{default:t(()=>[r("span",{class:te(["inline-flex rounded-full px-2 py-1 text-xs font-semibold",{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n.status==="active","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":n.status==="graduated","bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200":n.status==="transferred"}])},c(n.status),3)]),_:2},1024),l(e(G),null,{default:t(()=>[d(c(n.guardian?.phone_number||"N/A"),1)]),_:2},1024),l(e(G),{class:"text-right"},{default:t(()=>[r("div",rl,[l(e(ie),{variant:"default",size:"sm",onClick:Ae=>be(n.id)},{default:t(()=>[l(e(lt),{class:"h-4 w-4"}),a[57]||(a[57]=d(" View ",-1))]),_:1},8,["onClick"]),l(e(ie),{variant:"outline",size:"sm",onClick:Ae=>De(n.id)},{default:t(()=>[l(e(ot),{class:"h-4 w-4"}),a[58]||(a[58]=d(" Edit ",-1))]),_:1},8,["onClick"]),l(e(ie),{variant:"destructive",size:"sm",onClick:Ae=>me(n.id)},{default:t(()=>[l(e(nt),{class:"h-4 w-4"}),a[59]||(a[59]=d(" Delete ",-1))]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})])])]),(m(),x(M(i.value.Root),{open:v.value,"onUpdate:open":a[16]||(a[16]=n=>v.value=n),modal:!0},{default:t(()=>[(m(),x(M(i.value.Content),{class:te(["sm:max-w-2xl",[{"px-2 pb-8 *:px-4":!e(o)}]]),onInteractOutside:a[14]||(a[14]=n=>n.preventDefault()),onEscapeKeyDown:a[15]||(a[15]=n=>n.preventDefault())},{default:t(()=>[(m(),x(M(i.value.Header),null,{default:t(()=>[(m(),x(M(i.value.Title),null,{default:t(()=>[...a[60]||(a[60]=[d(" Add New Student ",-1)])]),_:1})),(m(),x(M(i.value.Description),null,{default:t(()=>[...a[61]||(a[61]=[d(" Fill in the student information below to add a new student to the system. ",-1)])]),_:1}))]),_:1})),r("div",ol,[r("div",sl,[l(e(U),{for:"adm_no"},{default:t(()=>[...a[62]||(a[62]=[d(" Admission Number ",-1)])]),_:1}),l(e(ae),{id:"adm_no",modelValue:e(_).adm_no,"onUpdate:modelValue":a[4]||(a[4]=n=>e(_).adm_no=n),placeholder:"e.g., STU009"},null,8,["modelValue"]),e(_).errors.adm_no?(m(),h("span",dl,c(e(_).errors.adm_no),1)):E("",!0)]),r("div",il,[r("div",ul,[l(e(U),{for:"first_name"},{default:t(()=>[...a[63]||(a[63]=[d(" First Name ",-1)])]),_:1}),l(e(ae),{id:"first_name",modelValue:e(_).first_name,"onUpdate:modelValue":a[5]||(a[5]=n=>e(_).first_name=n),placeholder:"John"},null,8,["modelValue"]),e(_).errors.first_name?(m(),h("span",ml,c(e(_).errors.first_name),1)):E("",!0)]),r("div",fl,[l(e(U),{for:"middle_name"},{default:t(()=>[...a[64]||(a[64]=[d(" Middle Name ",-1)])]),_:1}),l(e(ae),{id:"middle_name",modelValue:e(_).middle_name,"onUpdate:modelValue":a[6]||(a[6]=n=>e(_).middle_name=n),placeholder:"Optional"},null,8,["modelValue"])]),r("div",pl,[l(e(U),{for:"last_name"},{default:t(()=>[...a[65]||(a[65]=[d(" Last Name ",-1)])]),_:1}),l(e(ae),{id:"last_name",modelValue:e(_).last_name,"onUpdate:modelValue":a[7]||(a[7]=n=>e(_).last_name=n),placeholder:"Doe"},null,8,["modelValue"]),e(_).errors.last_name?(m(),h("span",vl,c(e(_).errors.last_name),1)):E("",!0)])]),r("div",cl,[r("div",gl,[l(e(U),{for:"gender"},{default:t(()=>[...a[66]||(a[66]=[d(" Gender ",-1)])]),_:1}),l(e(pe),{modelValue:e(_).gender,"onUpdate:modelValue":a[8]||(a[8]=n=>e(_).gender=n)},{default:t(()=>[l(e(ve),null,{default:t(()=>[l(e(ce),{placeholder:"Select gender"})]),_:1}),l(e(ge),null,{default:t(()=>[l(e(Y),{value:"male"},{default:t(()=>[...a[67]||(a[67]=[d("Male",-1)])]),_:1}),l(e(Y),{value:"female"},{default:t(()=>[...a[68]||(a[68]=[d("Female",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(_).errors.gender?(m(),h("span",_l,c(e(_).errors.gender),1)):E("",!0)]),r("div",bl,[l(e(U),{for:"grade_id"},{default:t(()=>[...a[69]||(a[69]=[d(" Grade ",-1)])]),_:1}),l(e(pe),{modelValue:e(_).grade_id,"onUpdate:modelValue":a[9]||(a[9]=n=>e(_).grade_id=n)},{default:t(()=>[l(e(ve),null,{default:t(()=>[l(e(ce),{placeholder:"Select a grade"})]),_:1}),l(e(ge),null,{default:t(()=>[(m(!0),h(fe,null,ke(e(B),n=>(m(),x(e(Y),{key:n.id,value:String(n.id)},{default:t(()=>[d(c(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(_).errors.grade_id?(m(),h("span",yl,c(e(_).errors.grade_id),1)):E("",!0)])]),r("div",wl,[a[76]||(a[76]=r("h3",{class:"mb-3 text-sm font-semibold"},"Guardian Information",-1)),r("div",xl,[r("div",hl,[r("div",$l,[l(e(U),{for:"guardian_first_name"},{default:t(()=>[...a[70]||(a[70]=[d(" Guardian First Name ",-1)])]),_:1}),l(e(ae),{id:"guardian_first_name",modelValue:e(_).guardian_first_name,"onUpdate:modelValue":a[10]||(a[10]=n=>e(_).guardian_first_name=n),placeholder:"Jane"},null,8,["modelValue"]),e(_).errors.guardian_first_name?(m(),h("span",kl,c(e(_).errors.guardian_first_name),1)):E("",!0)]),r("div",Sl,[l(e(U),{for:"guardian_last_name"},{default:t(()=>[...a[71]||(a[71]=[d(" Guardian Last Name ",-1)])]),_:1}),l(e(ae),{id:"guardian_last_name",modelValue:e(_).guardian_last_name,"onUpdate:modelValue":a[11]||(a[11]=n=>e(_).guardian_last_name=n),placeholder:"Doe"},null,8,["modelValue"]),e(_).errors.guardian_last_name?(m(),h("span",Dl,c(e(_).errors.guardian_last_name),1)):E("",!0)])]),r("div",Tl,[r("div",Vl,[l(e(U),{for:"guardian_gender"},{default:t(()=>[...a[72]||(a[72]=[d(" Guardian Gender ",-1)])]),_:1}),l(e(pe),{modelValue:e(_).guardian_gender,"onUpdate:modelValue":a[12]||(a[12]=n=>e(_).guardian_gender=n)},{default:t(()=>[l(e(ve),null,{default:t(()=>[l(e(ce),{placeholder:"Select gender"})]),_:1}),l(e(ge),null,{default:t(()=>[l(e(Y),{value:"male"},{default:t(()=>[...a[73]||(a[73]=[d("Male",-1)])]),_:1}),l(e(Y),{value:"female"},{default:t(()=>[...a[74]||(a[74]=[d("Female",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(_).errors.guardian_gender?(m(),h("span",Cl,c(e(_).errors.guardian_gender),1)):E("",!0)]),r("div",Ol,[l(e(U),{for:"guardian_phone"},{default:t(()=>[...a[75]||(a[75]=[d(" Guardian Phone Number ",-1)])]),_:1}),l(e(ae),{id:"guardian_phone",modelValue:e(_).guardian_phone,"onUpdate:modelValue":a[13]||(a[13]=n=>e(_).guardian_phone=n),placeholder:"0712345678",type:"tel"},null,8,["modelValue"]),e(_).errors.guardian_phone?(m(),h("span",Al,c(e(_).errors.guardian_phone),1)):E("",!0)])])])])]),(m(),x(M(i.value.Footer),{class:"pt-4"},{default:t(()=>[(m(),x(M(i.value.Close),{"as-child":""},{default:t(()=>[l(e(ie),{variant:"outline",onClick:Q},{default:t(()=>[...a[77]||(a[77]=[d(" Cancel ",-1)])]),_:1})]),_:1})),l(e(ie),{onClick:ye,disabled:e(_).processing},{default:t(()=>[d(c(e(_).processing?"Adding...":"Add Student"),1)]),_:1},8,["disabled"])]),_:1}))]),_:1},40,["class"]))]),_:1},40,["open"])),(m(),x(M(i.value.Root),{open:p.value,"onUpdate:open":a[29]||(a[29]=n=>p.value=n),modal:!0},{default:t(()=>[(m(),x(M(i.value.Content),{class:te(["sm:max-w-2xl",[{"px-2 pb-8 *:px-4":!e(o)}]]),onInteractOutside:a[27]||(a[27]=n=>n.preventDefault()),onEscapeKeyDown:a[28]||(a[28]=n=>n.preventDefault())},{default:t(()=>[(m(),x(M(i.value.Header),null,{default:t(()=>[(m(),x(M(i.value.Title),null,{default:t(()=>[...a[78]||(a[78]=[d(" Edit Student ",-1)])]),_:1})),(m(),x(M(i.value.Description),null,{default:t(()=>[...a[79]||(a[79]=[d(" Update the student information below. ",-1)])]),_:1}))]),_:1})),r("div",Pl,[r("div",Bl,[l(e(U),{for:"edit_adm_no"},{default:t(()=>[...a[80]||(a[80]=[d(" Admission Number ",-1)])]),_:1}),l(e(ae),{id:"edit_adm_no",modelValue:e(u).adm_no,"onUpdate:modelValue":a[17]||(a[17]=n=>e(u).adm_no=n),placeholder:"e.g., STU009"},null,8,["modelValue"]),e(u).errors.adm_no?(m(),h("span",Nl,c(e(u).errors.adm_no),1)):E("",!0)]),r("div",Fl,[r("div",Rl,[l(e(U),{for:"edit_first_name"},{default:t(()=>[...a[81]||(a[81]=[d(" First Name ",-1)])]),_:1}),l(e(ae),{id:"edit_first_name",modelValue:e(u).first_name,"onUpdate:modelValue":a[18]||(a[18]=n=>e(u).first_name=n),placeholder:"John"},null,8,["modelValue"]),e(u).errors.first_name?(m(),h("span",El,c(e(u).errors.first_name),1)):E("",!0)]),r("div",Ul,[l(e(U),{for:"edit_middle_name"},{default:t(()=>[...a[82]||(a[82]=[d(" Middle Name ",-1)])]),_:1}),l(e(ae),{id:"edit_middle_name",modelValue:e(u).middle_name,"onUpdate:modelValue":a[19]||(a[19]=n=>e(u).middle_name=n),placeholder:"Optional"},null,8,["modelValue"])]),r("div",Il,[l(e(U),{for:"edit_last_name"},{default:t(()=>[...a[83]||(a[83]=[d(" Last Name ",-1)])]),_:1}),l(e(ae),{id:"edit_last_name",modelValue:e(u).last_name,"onUpdate:modelValue":a[20]||(a[20]=n=>e(u).last_name=n),placeholder:"Doe"},null,8,["modelValue"]),e(u).errors.last_name?(m(),h("span",Ll,c(e(u).errors.last_name),1)):E("",!0)])]),r("div",zl,[r("div",Hl,[l(e(U),{for:"edit_gender"},{default:t(()=>[...a[84]||(a[84]=[d(" Gender ",-1)])]),_:1}),l(e(pe),{modelValue:e(u).gender,"onUpdate:modelValue":a[21]||(a[21]=n=>e(u).gender=n)},{default:t(()=>[l(e(ve),null,{default:t(()=>[l(e(ce),{placeholder:"Select gender"})]),_:1}),l(e(ge),null,{default:t(()=>[l(e(Y),{value:"male"},{default:t(()=>[...a[85]||(a[85]=[d("Male",-1)])]),_:1}),l(e(Y),{value:"female"},{default:t(()=>[...a[86]||(a[86]=[d("Female",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(u).errors.gender?(m(),h("span",Ml,c(e(u).errors.gender),1)):E("",!0)]),r("div",Gl,[l(e(U),{for:"edit_grade_id"},{default:t(()=>[...a[87]||(a[87]=[d(" Grade ",-1)])]),_:1}),l(e(pe),{modelValue:e(u).grade_id,"onUpdate:modelValue":a[22]||(a[22]=n=>e(u).grade_id=n)},{default:t(()=>[l(e(ve),null,{default:t(()=>[l(e(ce),{placeholder:"Select a grade"})]),_:1}),l(e(ge),null,{default:t(()=>[(m(!0),h(fe,null,ke(e(B),n=>(m(),x(e(Y),{key:n.id,value:n.id.toString()},{default:t(()=>[d(c(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(u).errors.grade_id?(m(),h("span",jl,c(e(u).errors.grade_id),1)):E("",!0)])]),r("div",Wl,[a[94]||(a[94]=r("h3",{class:"mb-3 text-sm font-semibold"},"Guardian Information",-1)),r("div",ql,[r("div",Yl,[r("div",Kl,[l(e(U),{for:"edit_guardian_first_name"},{default:t(()=>[...a[88]||(a[88]=[d(" Guardian First Name ",-1)])]),_:1}),l(e(ae),{id:"edit_guardian_first_name",modelValue:e(u).guardian_first_name,"onUpdate:modelValue":a[23]||(a[23]=n=>e(u).guardian_first_name=n),placeholder:"Jane"},null,8,["modelValue"]),e(u).errors.guardian_first_name?(m(),h("span",Jl,c(e(u).errors.guardian_first_name),1)):E("",!0)]),r("div",Xl,[l(e(U),{for:"edit_guardian_last_name"},{default:t(()=>[...a[89]||(a[89]=[d(" Guardian Last Name ",-1)])]),_:1}),l(e(ae),{id:"edit_guardian_last_name",modelValue:e(u).guardian_last_name,"onUpdate:modelValue":a[24]||(a[24]=n=>e(u).guardian_last_name=n),placeholder:"Doe"},null,8,["modelValue"]),e(u).errors.guardian_last_name?(m(),h("span",Zl,c(e(u).errors.guardian_last_name),1)):E("",!0)])]),r("div",Ql,[r("div",en,[l(e(U),{for:"edit_guardian_gender"},{default:t(()=>[...a[90]||(a[90]=[d(" Guardian Gender ",-1)])]),_:1}),l(e(pe),{modelValue:e(u).guardian_gender,"onUpdate:modelValue":a[25]||(a[25]=n=>e(u).guardian_gender=n)},{default:t(()=>[l(e(ve),null,{default:t(()=>[l(e(ce),{placeholder:"Select gender"})]),_:1}),l(e(ge),null,{default:t(()=>[l(e(Y),{value:"male"},{default:t(()=>[...a[91]||(a[91]=[d("Male",-1)])]),_:1}),l(e(Y),{value:"female"},{default:t(()=>[...a[92]||(a[92]=[d("Female",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(u).errors.guardian_gender?(m(),h("span",an,c(e(u).errors.guardian_gender),1)):E("",!0)]),r("div",tn,[l(e(U),{for:"edit_guardian_phone"},{default:t(()=>[...a[93]||(a[93]=[d(" Guardian Phone Number ",-1)])]),_:1}),l(e(ae),{id:"edit_guardian_phone",modelValue:e(u).guardian_phone,"onUpdate:modelValue":a[26]||(a[26]=n=>e(u).guardian_phone=n),placeholder:"0712345678",type:"tel"},null,8,["modelValue"]),e(u).errors.guardian_phone?(m(),h("span",ln,c(e(u).errors.guardian_phone),1)):E("",!0)])])])])]),(m(),x(M(i.value.Footer),{class:"pt-4"},{default:t(()=>[(m(),x(M(i.value.Close),{"as-child":""},{default:t(()=>[l(e(ie),{variant:"outline",onClick:ue},{default:t(()=>[...a[95]||(a[95]=[d(" Cancel ",-1)])]),_:1})]),_:1})),l(e(ie),{onClick:re,disabled:e(u).processing},{default:t(()=>[d(c(e(u).processing?"Updating...":"Update Student"),1)]),_:1},8,["disabled"])]),_:1}))]),_:1},40,["class"]))]),_:1},40,["open"])),(m(),x(M(i.value.Root),{open:V.value,"onUpdate:open":a[30]||(a[30]=n=>V.value=n),modal:!0},{default:t(()=>[(m(),x(M(i.value.Content),{class:te(["sm:max-w-4xl max-h-[90vh] overflow-y-auto",[{"px-2 pb-8 *:px-4":!e(o)}]])},{default:t(()=>[(m(),x(M(i.value.Header),null,{default:t(()=>[(m(),x(M(i.value.Title),null,{default:t(()=>[...a[96]||(a[96]=[d(" Student Details ",-1)])]),_:1})),(m(),x(M(i.value.Description),null,{default:t(()=>[...a[97]||(a[97]=[d(" Complete financial and personal information ",-1)])]),_:1}))]),_:1})),I.value?(m(),h("div",nn,[...a[98]||(a[98]=[r("div",{class:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent"},null,-1),r("p",{class:"mt-4 text-sm text-muted-foreground"},"Loading student details...",-1)])])):k.value?(m(),h("div",rn,[r("div",on,[a[103]||(a[103]=r("h3",{class:"mb-3 font-semibold"},"Student Information",-1)),r("div",sn,[r("div",null,[a[99]||(a[99]=r("p",{class:"text-sm text-muted-foreground"},"Admission Number",-1)),r("p",dn,c(k.value.student.adm_no),1)]),r("div",null,[a[100]||(a[100]=r("p",{class:"text-sm text-muted-foreground"},"Full Name",-1)),r("p",un,c(k.value.student.first_name)+" "+c(k.value.student.middle_name)+" "+c(k.value.student.last_name),1)]),r("div",null,[a[101]||(a[101]=r("p",{class:"text-sm text-muted-foreground"},"Grade",-1)),r("p",mn,c(k.value.student.grade?.name||"N/A"),1)]),r("div",null,[a[102]||(a[102]=r("p",{class:"text-sm text-muted-foreground"},"Guardian",-1)),r("p",fn,c(k.value.student.guardian?.first_name)+" "+c(k.value.student.guardian?.last_name),1),r("p",pn,c(k.value.student.guardian?.phone_number),1)])])]),r("div",vn,[r("div",cn,[a[104]||(a[104]=r("p",{class:"text-sm font-medium text-blue-600 dark:text-blue-400"},"Total Paid",-1)),r("p",gn,c($(k.value.summary.total_paid)),1)]),r("div",_n,[a[105]||(a[105]=r("p",{class:"text-sm font-medium text-red-600 dark:text-red-400"},"Total Balance",-1)),r("p",bn,c($(k.value.summary.total_balance)),1)]),r("div",yn,[a[106]||(a[106]=r("p",{class:"text-sm font-medium text-green-600 dark:text-green-400"},"Available Credits",-1)),r("p",wn,c($(k.value.summary.available_credits)),1)]),r("div",xn,[a[107]||(a[107]=r("p",{class:"text-sm font-medium text-purple-600 dark:text-purple-400"},"Current Term Balance",-1)),r("p",hn,c($(k.value.summary.current_term_balance)),1)])]),r("div",$n,[a[113]||(a[113]=r("div",{class:"border-b p-4"},[r("h3",{class:"font-semibold"},"Payment History")],-1)),r("div",kn,[l(e(ze),null,{default:t(()=>[l(e(Me),null,{default:t(()=>[l(e(_e),null,{default:t(()=>[l(e(X),null,{default:t(()=>[...a[108]||(a[108]=[d("Date",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[109]||(a[109]=[d("Fee Term",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[110]||(a[110]=[d("Amount Paid",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[111]||(a[111]=[d("Balance",-1)])]),_:1})]),_:1})]),_:1}),l(e(He),null,{default:t(()=>[k.value.payments.length===0?(m(),x(e(_e),{key:0},{default:t(()=>[l(e(G),{colspan:"5",class:"text-center text-muted-foreground"},{default:t(()=>[...a[112]||(a[112]=[d(" No payments recorded ",-1)])]),_:1})]),_:1})):E("",!0),(m(!0),h(fe,null,ke(k.value.payments,n=>(m(),x(e(_e),{key:n.id},{default:t(()=>[l(e(G),null,{default:t(()=>[d(c(Ve(n.created_at)),1)]),_:2},1024),l(e(G),null,{default:t(()=>[d(c(n.fee?.term||"N/A"),1)]),_:2},1024),l(e(G),{class:"font-medium text-green-600"},{default:t(()=>[d(c($(n.amount_paid)),1)]),_:2},1024),l(e(G),{class:"font-medium text-red-600"},{default:t(()=>[d(c($(n.balance)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),r("div",Sn,[a[120]||(a[120]=r("div",{class:"border-b p-4"},[r("h3",{class:"font-semibold"},"Fee Credits")],-1)),r("div",Dn,[l(e(ze),null,{default:t(()=>[l(e(Me),null,{default:t(()=>[l(e(_e),null,{default:t(()=>[l(e(X),null,{default:t(()=>[...a[114]||(a[114]=[d("Date",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[115]||(a[115]=[d("Amount",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[116]||(a[116]=[d("Status",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[117]||(a[117]=[d("Source",-1)])]),_:1}),l(e(X),null,{default:t(()=>[...a[118]||(a[118]=[d("Applied To",-1)])]),_:1})]),_:1})]),_:1}),l(e(He),null,{default:t(()=>[k.value.credits.length===0?(m(),x(e(_e),{key:0},{default:t(()=>[l(e(G),{colspan:"5",class:"text-center text-muted-foreground"},{default:t(()=>[...a[119]||(a[119]=[d(" No credits available ",-1)])]),_:1})]),_:1})):E("",!0),(m(!0),h(fe,null,ke(k.value.credits,n=>(m(),x(e(_e),{key:n.id},{default:t(()=>[l(e(G),null,{default:t(()=>[d(c(Ve(n.created_at)),1)]),_:2},1024),l(e(G),{class:"font-medium"},{default:t(()=>[d(c($(n.amount)),1)]),_:2},1024),l(e(G),null,{default:t(()=>[r("span",{class:te(["inline-flex rounded-full px-2 py-1 text-xs font-semibold",{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n.status==="available","bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200":n.status==="applied"}])},c(n.status),3)]),_:2},1024),l(e(G),null,{default:t(()=>[d(c(n.from_payment?`Payment #${n.from_payment.id}`:"N/A"),1)]),_:2},1024),l(e(G),null,{default:t(()=>[d(c(n.applied_to_fee?n.applied_to_fee.term:"Not Applied"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])):E("",!0),(m(),x(M(i.value.Footer),{class:"pt-4"},{default:t(()=>[(m(),x(M(i.value.Close),{"as-child":""},{default:t(()=>[l(e(ie),{variant:"outline"},{default:t(()=>[...a[121]||(a[121]=[d(" Close ",-1)])]),_:1})]),_:1}))]),_:1}))]),_:1},8,["class"]))]),_:1},40,["open"]))]),_:1})],64))}});export{Yn as default};
