import{U as G,D as F,_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-DlKyQMxC.js";import{d as P}from"./index-Bhpqllgs.js";import{d as T,c as l,a as b,u as d,h as E,w as $,b as e,t as r,o as a,F as u,r as _,n as f,e as p}from"./app-C4upcAhu.js";import{G as z,T as K}from"./trending-up-CGId_HjY.js";import"./index-CdFzA_FC.js";import"./index-mEdY9Usg.js";import"./VisuallyHidden-C2U-H9LU.js";import"./useForwardExpose-SqyArNdK.js";import"./useForwardPropsEmits-CG5qBUhs.js";import"./index-CMWG4mbA.js";import"./createLucideIcon-CPJQXwEe.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-gBDwgHow.js";const M={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},N={class:"grid gap-4 md:grid-cols-4"},U={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},L={class:"flex items-center justify-between"},O={class:"text-3xl font-bold"},R={class:"rounded-full bg-blue-100 p-3 dark:bg-blue-900"},V={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},A={class:"flex items-center justify-between"},I={class:"text-3xl font-bold"},q={class:"rounded-full bg-purple-100 p-3 dark:bg-purple-900"},H={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},J={class:"flex items-center justify-between"},Q={class:"text-2xl font-bold"},W={class:"rounded-full bg-amber-100 p-3 dark:bg-amber-900"},X={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},Y={class:"flex items-center justify-between"},Z={class:"text-2xl font-bold"},ee={class:"text-xs text-green-600 dark:text-green-400"},te={class:"rounded-full bg-green-100 p-3 dark:bg-green-900"},se={class:"grid gap-4 md:grid-cols-2"},de={class:"rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},re={class:"space-y-3"},oe={class:"flex items-center justify-between mb-1"},le={class:"text-sm font-medium"},ae={class:"text-sm text-muted-foreground"},ne={class:"h-2 w-full bg-gray-200 rounded-full dark:bg-gray-700"},ie={class:"rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},be={class:"space-y-3"},ce={class:"flex items-center justify-between mb-1"},ue={class:"flex items-center gap-2"},me={class:"text-sm font-medium capitalize"},_e={class:"text-sm text-muted-foreground"},fe={class:"h-2 w-full bg-gray-200 rounded-full dark:bg-gray-700"},he={class:"rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},ge={class:"flex items-end gap-2 h-48"},xe=["title"],pe={class:"text-xs text-muted-foreground"},ve={class:"rounded-xl border border-sidebar-border/70 bg-white dark:border-sidebar-border dark:bg-sidebar"},ye={class:"p-6"},ke={class:"space-y-3"},we={class:"flex items-center gap-3"},Se={class:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center dark:bg-blue-900"},Ce={class:"text-sm font-semibold text-blue-600 dark:text-blue-300"},je={class:"font-medium"},De={class:"text-sm text-muted-foreground"},Ge={class:"text-right"},Fe={class:"font-semibold"},Be={class:"text-xs text-muted-foreground"},Ve=T({__name:"Dashboard",props:{stats:{},studentsByGrade:{},paymentStatus:{},recentPayments:{},monthlyCollection:{}},setup(v){const c=v,n=c.stats||{totalStudents:0,totalGrades:0,totalFees:0,totalCollected:0},y=c.studentsByGrade||{},h=c.paymentStatus||{},k=c.recentPayments||[],g=c.monthlyCollection||{},w=[{title:"Dashboard",href:P().url}],m=i=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(i),S=i=>new Date(i).toLocaleDateString("en-KE",{month:"short",day:"numeric"}),x=i=>{const t={paid:"bg-green-500",partial:"bg-yellow-500",pending:"bg-red-500"};return t[i]||t.pending},C=n.totalFees>0?Math.round(n.totalCollected/n.totalFees*100):0;return(i,t)=>(a(),l(u,null,[b(d(E),{title:"Dashboard"}),b(B,{breadcrumbs:w},{default:$(()=>[e("div",M,[e("div",N,[e("div",U,[e("div",L,[e("div",null,[t[0]||(t[0]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Total Students",-1)),e("h3",O,r(d(n).totalStudents),1)]),e("div",R,[b(d(G),{class:"h-6 w-6 text-blue-600 dark:text-blue-300"})])])]),e("div",V,[e("div",A,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Active Grades",-1)),e("h3",I,r(d(n).totalGrades),1)]),e("div",q,[b(d(z),{class:"h-6 w-6 text-purple-600 dark:text-purple-300"})])])]),e("div",H,[e("div",J,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Total Fees",-1)),e("h3",Q,r(m(d(n).totalFees)),1)]),e("div",W,[b(d(F),{class:"h-6 w-6 text-amber-600 dark:text-amber-300"})])])]),e("div",X,[e("div",Y,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Collected",-1)),e("h3",Z,r(m(d(n).totalCollected)),1),e("p",ee,r(d(C))+"% collected",1)]),e("div",te,[b(d(K),{class:"h-6 w-6 text-green-600 dark:text-green-300"})])])])]),e("div",se,[e("div",de,[t[4]||(t[4]=e("h3",{class:"mb-4 text-lg font-semibold"},"Students by Grade",-1)),e("div",re,[(a(!0),l(u,null,_(d(y),(s,o)=>(a(),l("div",{key:o},[e("div",oe,[e("span",le,r(o),1),e("span",ae,r(s)+" students",1)]),e("div",ne,[e("div",{class:"h-2 bg-blue-600 rounded-full dark:bg-blue-500",style:f({width:`${s/d(n).totalStudents*100}%`})},null,4)])]))),128))])]),e("div",ie,[t[5]||(t[5]=e("h3",{class:"mb-4 text-lg font-semibold"},"Payment Status",-1)),e("div",be,[(a(!0),l(u,null,_(d(h),(s,o)=>(a(),l("div",{key:o},[e("div",ce,[e("div",ue,[e("div",{class:p([x(o),"h-3 w-3 rounded-full"])},null,2),e("span",me,r(o),1)]),e("span",_e,r(s)+" payments",1)]),e("div",fe,[e("div",{class:p([x(o),"h-2 rounded-full"]),style:f({width:`${s/Object.values(d(h)).reduce((j,D)=>j+D,0)*100}%`})},null,6)])]))),128))])])]),e("div",he,[t[6]||(t[6]=e("h3",{class:"mb-4 text-lg font-semibold"},"Monthly Collection Trend",-1)),e("div",ge,[(a(!0),l(u,null,_(d(g),(s,o)=>(a(),l("div",{key:o,class:"flex-1 flex flex-col items-center gap-2"},[e("div",{class:"w-full bg-blue-600 rounded-t dark:bg-blue-500 hover:bg-blue-700 transition-colors",style:f({height:`${s/Math.max(...Object.values(d(g)))*100}%`}),title:m(s)},null,12,xe),e("span",pe,r(o.split("-")[1]),1)]))),128))])]),e("div",ve,[e("div",ye,[t[7]||(t[7]=e("h3",{class:"mb-4 text-lg font-semibold"},"Recent Payments",-1)),e("div",ke,[(a(!0),l(u,null,_(d(k),s=>(a(),l("div",{key:s.id,class:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-sidebar-accent"},[e("div",we,[e("div",Se,[e("span",Ce,r(s.student?.first_name?.[0])+r(s.student?.last_name?.[0]),1)]),e("div",null,[e("p",je,r(s.student?.first_name)+" "+r(s.student?.last_name),1),e("p",De,r(s.fee?.term),1)])]),e("div",Ge,[e("p",Fe,r(m(s.amount_paid)),1),e("p",Be,r(S(s.payment_date)),1)])]))),128))])])])])]),_:1})],64))}});export{Ve as default};
