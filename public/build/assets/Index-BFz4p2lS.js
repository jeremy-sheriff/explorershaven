import{_ as h}from"./AppLayout.vue_vue_type_script_setup_true_lang-WpquDlI9.js";import{d as _}from"./index-C4J_hXM0.js";import{d as v,c as n,a as x,u as a,h as w,w as k,b as t,t as s,o as i,F as p,r as P,e as C}from"./app-BsJGNLtk.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dft868_e.js";import"./index-_tWAG35y.js";import"./VisuallyHidden-DFX-Hi22.js";import"./useForwardExpose-6PG2JGsk.js";import"./useForwardPropsEmits-Qm4mbfU4.js";import"./createLucideIcon-C_ihyoTK.js";const F={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},D={class:"grid auto-rows-min gap-4 md:grid-cols-3"},N={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},S={class:"text-2xl font-bold"},E={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},A={class:"text-2xl font-bold"},B={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},K={class:"text-2xl font-bold"},L={class:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 bg-white md:min-h-min dark:border-sidebar-border dark:bg-sidebar"},T={class:"p-6"},V={class:"overflow-x-auto"},j={class:"min-w-full divide-y divide-gray-200"},I={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-sidebar"},z={class:"whitespace-nowrap px-6 py-4 text-sm font-medium"},G={class:"whitespace-nowrap px-6 py-4 text-sm"},R={class:"whitespace-nowrap px-6 py-4 text-sm"},$={class:"whitespace-nowrap px-6 py-4 text-sm font-semibold"},q={class:"whitespace-nowrap px-6 py-4 text-sm"},H={class:"whitespace-nowrap px-6 py-4 text-sm"},et=v({__name:"Index",props:{payments:{}},setup(c){const o=c.payments||[],m=[{title:"Dashboard",href:_().url},{title:"Fee Payments",href:"#"}],l=r=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(r),u=r=>r?new Date(r).toLocaleDateString("en-KE",{year:"numeric",month:"short",day:"numeric"}):"Not paid",b=r=>{const e={paid:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",partial:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",pending:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"};return e[r]||e.pending},g=o.reduce((r,e)=>r+parseFloat(e.amount_paid||0),0),f=o.filter(r=>r.status==="paid").length,y=o.filter(r=>r.status==="pending").length;return(r,e)=>(i(),n(p,null,[x(a(w),{title:"Fee Payments"}),x(h,{breadcrumbs:m},{default:k(()=>[t("div",F,[t("div",D,[t("div",N,[e[0]||(e[0]=t("div",{class:"text-sm font-medium text-muted-foreground"},"Total Payments",-1)),t("div",S,s(a(o).length),1)]),t("div",E,[e[1]||(e[1]=t("div",{class:"text-sm font-medium text-muted-foreground"},"Total Collected",-1)),t("div",A,s(l(a(g))),1)]),t("div",B,[e[2]||(e[2]=t("div",{class:"text-sm font-medium text-muted-foreground"},"Paid / Pending",-1)),t("div",K,s(a(f))+" / "+s(a(y)),1)])]),t("div",L,[t("div",T,[e[5]||(e[5]=t("div",{class:"mb-4 flex items-center justify-between"},[t("h2",{class:"text-xl font-semibold"},"Fee Payments"),t("button",{class:"rounded-lg bg-black px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200"}," + Record Payment ")],-1)),t("div",V,[t("table",j,[e[4]||(e[4]=t("thead",{class:"bg-gray-50 dark:bg-sidebar-accent"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Student"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Grade"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Term"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Amount Paid"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Payment Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Status"),t("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Actions")])],-1)),t("tbody",I,[(i(!0),n(p,null,P(a(o),d=>(i(),n("tr",{key:d.id,class:"hover:bg-gray-50 dark:hover:bg-sidebar-accent"},[t("td",z,s(d.student?.first_name)+" "+s(d.student?.last_name),1),t("td",G,s(d.fee?.grade?.name||"N/A"),1),t("td",R,s(d.fee?.term||"N/A"),1),t("td",$,s(l(d.amount_paid)),1),t("td",q,s(u(d.payment_date)),1),t("td",H,[t("span",{class:C([b(d.status),"rounded-full px-2 py-1 text-xs font-medium uppercase"])},s(d.status),3)]),e[3]||(e[3]=t("td",{class:"whitespace-nowrap px-6 py-4 text-right"},[t("div",{class:"flex items-center justify-end gap-2"},[t("button",{class:"rounded px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-950"}," View "),t("button",{class:"rounded px-3 py-1 text-sm text-green-600 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-950"}," Edit ")])],-1))]))),128))])])])])])])]),_:1})],64))}});export{et as default};
