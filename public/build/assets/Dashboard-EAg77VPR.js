import{U as F,D as B,_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-W6TvNpgE.js";import{d as L}from"./index-C4J_hXM0.js";import{d as P,c as l,a as c,u as d,h as T,w as z,b as e,t as r,o as a,F as u,r as _,n as h,e as x}from"./app-Kgw7v2Xd.js";import{c as v}from"./createLucideIcon-RbGT-13g.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DZ8o1k9S.js";import"./index-Bbq8ywS4.js";import"./VisuallyHidden-C-YALXxw.js";import"./useForwardExpose-DvJfzX_8.js";import"./useForwardPropsEmits-CCAIi9n7.js";const E=v("GraduationCapIcon",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const I=v("TrendingUpIcon",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),U={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},$={class:"grid gap-4 md:grid-cols-4"},K={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},N={class:"flex items-center justify-between"},V={class:"text-3xl font-bold"},O={class:"rounded-full bg-blue-100 p-3 dark:bg-blue-900"},R={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},A={class:"flex items-center justify-between"},q={class:"text-3xl font-bold"},H={class:"rounded-full bg-purple-100 p-3 dark:bg-purple-900"},J={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},Q={class:"flex items-center justify-between"},W={class:"text-2xl font-bold"},X={class:"rounded-full bg-amber-100 p-3 dark:bg-amber-900"},Y={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},Z={class:"flex items-center justify-between"},ee={class:"text-2xl font-bold"},te={class:"text-xs text-green-600 dark:text-green-400"},se={class:"rounded-full bg-green-100 p-3 dark:bg-green-900"},de={class:"grid gap-4 md:grid-cols-2"},re={class:"rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},oe={class:"space-y-3"},le={class:"flex items-center justify-between mb-1"},ae={class:"text-sm font-medium"},ne={class:"text-sm text-muted-foreground"},ie={class:"h-2 w-full bg-gray-200 rounded-full dark:bg-gray-700"},ce={class:"rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},be={class:"space-y-3"},ue={class:"flex items-center justify-between mb-1"},me={class:"flex items-center gap-2"},_e={class:"text-sm font-medium capitalize"},he={class:"text-sm text-muted-foreground"},fe={class:"h-2 w-full bg-gray-200 rounded-full dark:bg-gray-700"},ge={class:"rounded-xl border border-sidebar-border/70 bg-white p-6 dark:border-sidebar-border dark:bg-sidebar"},pe={class:"flex items-end gap-2 h-48"},xe=["title"],ve={class:"text-xs text-muted-foreground"},ye={class:"rounded-xl border border-sidebar-border/70 bg-white dark:border-sidebar-border dark:bg-sidebar"},ke={class:"p-6"},we={class:"space-y-3"},Ce={class:"flex items-center gap-3"},Se={class:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center dark:bg-blue-900"},je={class:"text-sm font-semibold text-blue-600 dark:text-blue-300"},De={class:"font-medium"},Ge={class:"text-sm text-muted-foreground"},Fe={class:"text-right"},Be={class:"font-semibold"},Me={class:"text-xs text-muted-foreground"},Ne=P({__name:"Dashboard",props:{stats:{},studentsByGrade:{},paymentStatus:{},recentPayments:{},monthlyCollection:{}},setup(y){const b=y,n=b.stats||{totalStudents:0,totalGrades:0,totalFees:0,totalCollected:0},k=b.studentsByGrade||{},f=b.paymentStatus||{},w=b.recentPayments||[],g=b.monthlyCollection||{},C=[{title:"Dashboard",href:L().url}],m=i=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(i),S=i=>new Date(i).toLocaleDateString("en-KE",{month:"short",day:"numeric"}),p=i=>{const t={paid:"bg-green-500",partial:"bg-yellow-500",pending:"bg-red-500"};return t[i]||t.pending},j=n.totalFees>0?Math.round(n.totalCollected/n.totalFees*100):0;return(i,t)=>(a(),l(u,null,[c(d(T),{title:"Dashboard"}),c(M,{breadcrumbs:C},{default:z(()=>[e("div",U,[e("div",$,[e("div",K,[e("div",N,[e("div",null,[t[0]||(t[0]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Total Students",-1)),e("h3",V,r(d(n).totalStudents),1)]),e("div",O,[c(d(F),{class:"h-6 w-6 text-blue-600 dark:text-blue-300"})])])]),e("div",R,[e("div",A,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Active Grades",-1)),e("h3",q,r(d(n).totalGrades),1)]),e("div",H,[c(d(E),{class:"h-6 w-6 text-purple-600 dark:text-purple-300"})])])]),e("div",J,[e("div",Q,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Total Fees",-1)),e("h3",W,r(m(d(n).totalFees)),1)]),e("div",X,[c(d(B),{class:"h-6 w-6 text-amber-600 dark:text-amber-300"})])])]),e("div",Y,[e("div",Z,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Collected",-1)),e("h3",ee,r(m(d(n).totalCollected)),1),e("p",te,r(d(j))+"% collected",1)]),e("div",se,[c(d(I),{class:"h-6 w-6 text-green-600 dark:text-green-300"})])])])]),e("div",de,[e("div",re,[t[4]||(t[4]=e("h3",{class:"mb-4 text-lg font-semibold"},"Students by Grade",-1)),e("div",oe,[(a(!0),l(u,null,_(d(k),(s,o)=>(a(),l("div",{key:o},[e("div",le,[e("span",ae,r(o),1),e("span",ne,r(s)+" students",1)]),e("div",ie,[e("div",{class:"h-2 bg-blue-600 rounded-full dark:bg-blue-500",style:h({width:`${s/d(n).totalStudents*100}%`})},null,4)])]))),128))])]),e("div",ce,[t[5]||(t[5]=e("h3",{class:"mb-4 text-lg font-semibold"},"Payment Status",-1)),e("div",be,[(a(!0),l(u,null,_(d(f),(s,o)=>(a(),l("div",{key:o},[e("div",ue,[e("div",me,[e("div",{class:x([p(o),"h-3 w-3 rounded-full"])},null,2),e("span",_e,r(o),1)]),e("span",he,r(s)+" payments",1)]),e("div",fe,[e("div",{class:x([p(o),"h-2 rounded-full"]),style:h({width:`${s/Object.values(d(f)).reduce((D,G)=>D+G,0)*100}%`})},null,6)])]))),128))])])]),e("div",ge,[t[6]||(t[6]=e("h3",{class:"mb-4 text-lg font-semibold"},"Monthly Collection Trend",-1)),e("div",pe,[(a(!0),l(u,null,_(d(g),(s,o)=>(a(),l("div",{key:o,class:"flex-1 flex flex-col items-center gap-2"},[e("div",{class:"w-full bg-blue-600 rounded-t dark:bg-blue-500 hover:bg-blue-700 transition-colors",style:h({height:`${s/Math.max(...Object.values(d(g)))*100}%`}),title:m(s)},null,12,xe),e("span",ve,r(o.split("-")[1]),1)]))),128))])]),e("div",ye,[e("div",ke,[t[7]||(t[7]=e("h3",{class:"mb-4 text-lg font-semibold"},"Recent Payments",-1)),e("div",we,[(a(!0),l(u,null,_(d(w),s=>(a(),l("div",{key:s.id,class:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-sidebar-accent"},[e("div",Ce,[e("div",Se,[e("span",je,r(s.student?.first_name?.[0])+r(s.student?.last_name?.[0]),1)]),e("div",null,[e("p",De,r(s.student?.first_name)+" "+r(s.student?.last_name),1),e("p",Ge,r(s.fee?.term),1)])]),e("div",Fe,[e("p",Be,r(m(s.amount_paid)),1),e("p",Me,r(S(s.payment_date)),1)])]))),128))])])])])]),_:1})],64))}});export{Ne as default};
