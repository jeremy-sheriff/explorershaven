import{_ as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-Cpp2COfa.js";import{d as w}from"./index-C4J_hXM0.js";import{d as C,c as n,a as x,u as a,h as D,w as F,b as e,t as o,o as i,F as m,r as A}from"./app-CSOccYzD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-9GR4lIV-.js";import"./index-yeZ4sm_h.js";import"./VisuallyHidden-CF2_zb5P.js";import"./useForwardExpose-C3p47je3.js";import"./useForwardPropsEmits-B6N0kNfR.js";import"./createLucideIcon-G_qJZ_sj.js";const E={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},S={class:"grid auto-rows-min gap-4 md:grid-cols-3"},T={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},V={class:"text-2xl font-bold"},N={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},$={class:"text-2xl font-bold"},B={class:"relative overflow-hidden rounded-xl border border-sidebar-border/70 p-6 dark:border-sidebar-border"},K={class:"text-2xl font-bold"},L={class:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 bg-white md:min-h-min dark:border-sidebar-border dark:bg-sidebar"},j={class:"p-6"},I={class:"overflow-x-auto"},q={class:"min-w-full divide-y divide-gray-200"},G={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-sidebar"},R={class:"whitespace-nowrap px-6 py-4 text-sm font-medium"},z={class:"whitespace-nowrap px-6 py-4 text-sm"},H={class:"whitespace-nowrap px-6 py-4 text-sm font-semibold"},J={class:"whitespace-nowrap px-6 py-4 text-sm"},M={class:"whitespace-nowrap px-6 py-4 text-right"},O={class:"flex items-center justify-end gap-2"},P=["onClick"],Q=["onClick"],U=["onClick"],ae=C({__name:"Index",props:{fees:{}},setup(u){const d=u.fees||[],p=[{title:"Dashboard",href:w().url},{title:"Fees",href:"#"}],b=t=>{alert("Edit fee: "+t)},h=t=>{alert("View fee: "+t)},g=t=>{confirm("Are you sure you want to delete this fee?")&&alert("Delete fee: "+t)},f=()=>{alert("Create new fee")},l=t=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(t),_=t=>new Date(t).toLocaleDateString("en-KE",{year:"numeric",month:"short",day:"numeric"}),y=d.reduce((t,r)=>t+parseFloat(r.amount||0),0),v=[...new Set(d.map(t=>t.term))].length;return[...new Set(d.map(t=>t.grade_id))].length,(t,r)=>(i(),n(m,null,[x(a(D),{title:"Fees"}),x(k,{breadcrumbs:p},{default:F(()=>[e("div",E,[e("div",S,[e("div",T,[r[0]||(r[0]=e("div",{class:"text-sm font-medium text-muted-foreground"},"Total Fee Records",-1)),e("div",V,o(a(d).length),1)]),e("div",N,[r[1]||(r[1]=e("div",{class:"text-sm font-medium text-muted-foreground"},"Total Amount",-1)),e("div",$,o(l(a(y))),1)]),e("div",B,[r[2]||(r[2]=e("div",{class:"text-sm font-medium text-muted-foreground"},"Active Terms",-1)),e("div",K,o(a(v)),1)])]),e("div",L,[e("div",j,[e("div",{class:"mb-4 flex items-center justify-between"},[r[3]||(r[3]=e("h2",{class:"text-xl font-semibold"},"Fee Structure",-1)),e("button",{onClick:f,class:"rounded-lg bg-black px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200"}," + Add Fee ")]),e("div",I,[e("table",q,[r[4]||(r[4]=e("thead",{class:"bg-gray-50 dark:bg-sidebar-accent"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Grade"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Term"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Amount"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Due Date"),e("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase text-gray-500 dark:text-gray-400"},"Actions")])],-1)),e("tbody",G,[(i(!0),n(m,null,A(a(d),s=>(i(),n("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-sidebar-accent"},[e("td",R,o(s.grade?.name||"N/A"),1),e("td",z,o(s.term),1),e("td",H,o(l(s.amount)),1),e("td",J,o(_(s.due_date)),1),e("td",M,[e("div",O,[e("button",{onClick:c=>h(s.id),class:"rounded px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-950"}," View ",8,P),e("button",{onClick:c=>b(s.id),class:"rounded px-3 py-1 text-sm text-green-600 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-950"}," Edit ",8,Q),e("button",{onClick:c=>g(s.id),class:"rounded px-3 py-1 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-950"}," Delete ",8,U)])])]))),128))])])])])])])]),_:1})],64))}});export{ae as default};
